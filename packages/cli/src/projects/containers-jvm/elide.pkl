// amends "../../main/pkl/project.pkl"
// import "../../main/pkl/project.pkl" as build

amends "elide:project.pkl"
import "elide:project.pkl" as build

name = "elide-containers"
description = "Example project using Elide with Kotlin/JVM."

jvm {
  main = "sample.MainKt"
}

tests {
  coverage {
    paths {
      "sample*"
    }
  }
}

artifacts {
  // Build a JAR from our Kotlin code.
  ["jar"] = build.jar()

  // Wrap the native image in a container image.
  ["container"] = (build.containerImage("jar")) {
    // Set this property to a remote image. This is the target image.
    image = "ghcr.io/elide-dev/samples/containers-jvm"
  }
}

dependencies {
  maven {
    packages {
      // Guava
      "com.google.guava:guava:33.4.8-jre"
    }
  }
}

sources {
  ["main"] = "src/main/kotlin/**/*.kt"
  ["test"] = "src/test/kotlin/**/*.kt"
}
