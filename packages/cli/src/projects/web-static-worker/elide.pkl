amends "elide:project.pkl"
import "elide:project.pkl" as build

name = "elide-web-static-worker"
description = "Static website via Cloudflare Workers and Elide."

dependencies {
  npm {
    devPackages {
      "wrangler@4.24.3"
      "@elide-dev/types@1.0.0-beta7"
    }
  }
}

sources {
  ["main"] = "src/**/*.*"
}

artifacts {
  ["main"] = (build.staticSite("src")) {
    domain = "static-worker.samples.elide.dev"
    hosting = "workers"

    stylesheets {
      "styles.css"
    }
    scripts {
      "main.mts"
      "example.mjs"
    }
  }
}

scripts {
  ["deploy"] = "wrangler deploy"
  ["build-deploy"] = "elide build && elide deploy"
}
