(()=>{var Vd=Object.create;var Ei=Object.defineProperty;var Gd=Object.getOwnPropertyDescriptor;var Yd=Object.getOwnPropertyNames;var Qd=Object.getPrototypeOf,Kd=Object.prototype.hasOwnProperty;var Jd=e=>Ei(e,"__esModule",{value:!0});var O=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Xd=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Yd(t))!Kd.call(e,i)&&(r||i!=="default")&&Ei(e,i,{get:()=>t[i],enumerable:!(n=Gd(t,i))||n.enumerable});return e},Zd=(e,t)=>Xd(Jd(Ei(e!=null?Vd(Qd(e)):{},"default",!t&&e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var Ri=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},La=(e,t)=>{if(Object(t)!==t)throw TypeError('Cannot use the "in" operator on this value');return e.has(t)},m=(e,t,r)=>(Ri(e,t,"read from private field"),r?r.call(e):t.get(e)),Q=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},N=(e,t,r,n)=>(Ri(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r);var we=(e,t,r)=>(Ri(e,t,"access private method"),r);var Da=O(on=>{"use strict";on.byteLength=tc,on.toByteArray=nc,on.fromByteArray=ac;var Pe=[],fe=[],ec=typeof Uint8Array!="undefined"?Uint8Array:Array,Ti="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(gt=0,Fa=Ti.length;gt<Fa;++gt)Pe[gt]=Ti[gt],fe[Ti.charCodeAt(gt)]=gt;fe["-".charCodeAt(0)]=62,fe["_".charCodeAt(0)]=63;function Na(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function tc(e){var t=Na(e),r=t[0],n=t[1];return(r+n)*3/4-n}function rc(e,t,r){return(t+r)*3/4-r}function nc(e){var t,r=Na(e),n=r[0],i=r[1],o=new ec(rc(e,n,i)),a=0,s=i>0?n-4:n,l;for(l=0;l<s;l+=4)t=fe[e.charCodeAt(l)]<<18|fe[e.charCodeAt(l+1)]<<12|fe[e.charCodeAt(l+2)]<<6|fe[e.charCodeAt(l+3)],o[a++]=t>>16&255,o[a++]=t>>8&255,o[a++]=t&255;return i===2&&(t=fe[e.charCodeAt(l)]<<2|fe[e.charCodeAt(l+1)]>>4,o[a++]=t&255),i===1&&(t=fe[e.charCodeAt(l)]<<10|fe[e.charCodeAt(l+1)]<<4|fe[e.charCodeAt(l+2)]>>2,o[a++]=t>>8&255,o[a++]=t&255),o}function ic(e){return Pe[e>>18&63]+Pe[e>>12&63]+Pe[e>>6&63]+Pe[e&63]}function oc(e,t,r){for(var n,i=[],o=t;o<r;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(e[o+2]&255),i.push(ic(n));return i.join("")}function ac(e){for(var t,r=e.length,n=r%3,i=[],o=16383,a=0,s=r-n;a<s;a+=o)i.push(oc(e,a,a+o>s?s:a+o));return n===1?(t=e[r-1],i.push(Pe[t>>2]+Pe[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],i.push(Pe[t>>10]+Pe[t>>4&63]+Pe[t<<2&63]+"=")),i.join("")}var gt,Fa});var Ma=O(Ai=>{Ai.read=function(e,t,r,n,i){var o,a,s=i*8-n-1,l=(1<<s)-1,u=l>>1,d=-7,c=r?i-1:0,w=r?-1:1,b=e[t+c];for(c+=w,o=b&(1<<-d)-1,b>>=-d,d+=s;d>0;o=o*256+e[t+c],c+=w,d-=8);for(a=o&(1<<-d)-1,o>>=-d,d+=n;d>0;a=a*256+e[t+c],c+=w,d-=8);if(o===0)o=1-u;else{if(o===l)return a?NaN:(b?-1:1)*(1/0);a=a+Math.pow(2,n),o=o-u}return(b?-1:1)*a*Math.pow(2,o-n)},Ai.write=function(e,t,r,n,i,o){var a,s,l,u=o*8-i-1,d=(1<<u)-1,c=d>>1,w=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=n?0:o-1,C=n?1:-1,y=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=d):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),a+c>=1?t+=w/l:t+=w*Math.pow(2,1-c),t*l>=2&&(a++,l/=2),a+c>=d?(s=0,a=d):a+c>=1?(s=(t*l-1)*Math.pow(2,i),a=a+c):(s=t*Math.pow(2,c-1)*Math.pow(2,i),a=0));i>=8;e[r+b]=s&255,b+=C,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[r+b]=a&255,b+=C,a/=256,u-=8);e[r+b-C]|=y*128}});var Me=O(tr=>{"use strict";var Ci=Da(),Xt=Ma(),ja=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;tr.Buffer=h,tr.SlowBuffer=cc,tr.INSPECT_MAX_BYTES=50;var an=2147483647;tr.kMaxLength=an,h.TYPED_ARRAY_SUPPORT=sc(),!h.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function";function sc(){try{let e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),e.foo()===42}catch{return!1}}Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(!!h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(!!h.isBuffer(this))return this.byteOffset}});function De(e){if(e>an)throw new RangeError('The value "'+e+'" is invalid for option "size"');let t=new Uint8Array(e);return Object.setPrototypeOf(t,h.prototype),t}function h(e,t,r){if(typeof e=="number"){if(typeof t=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Pi(e)}return Ua(e,t,r)}h.poolSize=8192;function Ua(e,t,r){if(typeof e=="string")return uc(e,t);if(ArrayBuffer.isView(e))return fc(e);if(e==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(ve(e,ArrayBuffer)||e&&ve(e.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(ve(e,SharedArrayBuffer)||e&&ve(e.buffer,SharedArrayBuffer)))return Ii(e,t,r);if(typeof e=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let n=e.valueOf&&e.valueOf();if(n!=null&&n!==e)return h.from(n,t,r);let i=dc(e);if(i)return i;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof e[Symbol.toPrimitive]=="function")return h.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}h.from=function(e,t,r){return Ua(e,t,r)},Object.setPrototypeOf(h.prototype,Uint8Array.prototype),Object.setPrototypeOf(h,Uint8Array);function $a(e){if(typeof e!="number")throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function lc(e,t,r){return $a(e),e<=0?De(e):t!==void 0?typeof r=="string"?De(e).fill(t,r):De(e).fill(t):De(e)}h.alloc=function(e,t,r){return lc(e,t,r)};function Pi(e){return $a(e),De(e<0?0:Bi(e)|0)}h.allocUnsafe=function(e){return Pi(e)},h.allocUnsafeSlow=function(e){return Pi(e)};function uc(e,t){if((typeof t!="string"||t==="")&&(t="utf8"),!h.isEncoding(t))throw new TypeError("Unknown encoding: "+t);let r=za(e,t)|0,n=De(r),i=n.write(e,t);return i!==r&&(n=n.slice(0,i)),n}function vi(e){let t=e.length<0?0:Bi(e.length)|0,r=De(t);for(let n=0;n<t;n+=1)r[n]=e[n]&255;return r}function fc(e){if(ve(e,Uint8Array)){let t=new Uint8Array(e);return Ii(t.buffer,t.byteOffset,t.byteLength)}return vi(e)}function Ii(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return t===void 0&&r===void 0?n=new Uint8Array(e):r===void 0?n=new Uint8Array(e,t):n=new Uint8Array(e,t,r),Object.setPrototypeOf(n,h.prototype),n}function dc(e){if(h.isBuffer(e)){let t=Bi(e.length)|0,r=De(t);return r.length===0||e.copy(r,0,0,t),r}if(e.length!==void 0)return typeof e.length!="number"||Oi(e.length)?De(0):vi(e);if(e.type==="Buffer"&&Array.isArray(e.data))return vi(e.data)}function Bi(e){if(e>=an)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+an.toString(16)+" bytes");return e|0}function cc(e){return+e!=e&&(e=0),h.alloc(+e)}h.isBuffer=function(t){return t!=null&&t._isBuffer===!0&&t!==h.prototype},h.compare=function(t,r){if(ve(t,Uint8Array)&&(t=h.from(t,t.offset,t.byteLength)),ve(r,Uint8Array)&&(r=h.from(r,r.offset,r.byteLength)),!h.isBuffer(t)||!h.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===r)return 0;let n=t.length,i=r.length;for(let o=0,a=Math.min(n,i);o<a;++o)if(t[o]!==r[o]){n=t[o],i=r[o];break}return n<i?-1:i<n?1:0},h.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(t,r){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return h.alloc(0);let n;if(r===void 0)for(r=0,n=0;n<t.length;++n)r+=t[n].length;let i=h.allocUnsafe(r),o=0;for(n=0;n<t.length;++n){let a=t[n];if(ve(a,Uint8Array))o+a.length>i.length?(h.isBuffer(a)||(a=h.from(a)),a.copy(i,o)):Uint8Array.prototype.set.call(i,a,o);else if(h.isBuffer(a))a.copy(i,o);else throw new TypeError('"list" argument must be an Array of Buffers');o+=a.length}return i};function za(e,t){if(h.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||ve(e,ArrayBuffer))return e.byteLength;if(typeof e!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let r=e.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return ki(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return rs(e).length;default:if(i)return n?-1:ki(e).length;t=(""+t).toLowerCase(),i=!0}}h.byteLength=za;function hc(e,t,r){let n=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,t>>>=0,r<=t))return"";for(e||(e="utf8");;)switch(e){case"hex":return Rc(this,t,r);case"utf8":case"utf-8":return Ga(this,t,r);case"ascii":return Sc(this,t,r);case"latin1":case"binary":return Ec(this,t,r);case"base64":return _c(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Tc(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}h.prototype._isBuffer=!0;function wt(e,t,r){let n=e[t];e[t]=e[r],e[r]=n}h.prototype.swap16=function(){let t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let r=0;r<t;r+=2)wt(this,r,r+1);return this},h.prototype.swap32=function(){let t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let r=0;r<t;r+=4)wt(this,r,r+3),wt(this,r+1,r+2);return this},h.prototype.swap64=function(){let t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let r=0;r<t;r+=8)wt(this,r,r+7),wt(this,r+1,r+6),wt(this,r+2,r+5),wt(this,r+3,r+4);return this},h.prototype.toString=function(){let t=this.length;return t===0?"":arguments.length===0?Ga(this,0,t):hc.apply(this,arguments)},h.prototype.toLocaleString=h.prototype.toString,h.prototype.equals=function(t){if(!h.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:h.compare(this,t)===0},h.prototype.inspect=function(){let t="",r=tr.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},ja&&(h.prototype[ja]=h.prototype.inspect),h.prototype.compare=function(t,r,n,i,o){if(ve(t,Uint8Array)&&(t=h.from(t,t.offset,t.byteLength)),!h.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(r===void 0&&(r=0),n===void 0&&(n=t?t.length:0),i===void 0&&(i=0),o===void 0&&(o=this.length),r<0||n>t.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&r>=n)return 0;if(i>=o)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,i>>>=0,o>>>=0,this===t)return 0;let a=o-i,s=n-r,l=Math.min(a,s),u=this.slice(i,o),d=t.slice(r,n);for(let c=0;c<l;++c)if(u[c]!==d[c]){a=u[c],s=d[c];break}return a<s?-1:s<a?1:0};function Ha(e,t,r,n,i){if(e.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,Oi(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0)if(i)r=0;else return-1;if(typeof t=="string"&&(t=h.from(t,n)),h.isBuffer(t))return t.length===0?-1:Va(e,t,r,n,i);if(typeof t=="number")return t=t&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):Va(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function Va(e,t,r,n,i){let o=1,a=e.length,s=t.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(e.length<2||t.length<2)return-1;o=2,a/=2,s/=2,r/=2}function l(d,c){return o===1?d[c]:d.readUInt16BE(c*o)}let u;if(i){let d=-1;for(u=r;u<a;u++)if(l(e,u)===l(t,d===-1?0:u-d)){if(d===-1&&(d=u),u-d+1===s)return d*o}else d!==-1&&(u-=u-d),d=-1}else for(r+s>a&&(r=a-s),u=r;u>=0;u--){let d=!0;for(let c=0;c<s;c++)if(l(e,u+c)!==l(t,c)){d=!1;break}if(d)return u}return-1}h.prototype.includes=function(t,r,n){return this.indexOf(t,r,n)!==-1},h.prototype.indexOf=function(t,r,n){return Ha(this,t,r,n,!0)},h.prototype.lastIndexOf=function(t,r,n){return Ha(this,t,r,n,!1)};function pc(e,t,r,n){r=Number(r)||0;let i=e.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;let o=t.length;n>o/2&&(n=o/2);let a;for(a=0;a<n;++a){let s=parseInt(t.substr(a*2,2),16);if(Oi(s))return a;e[r+a]=s}return a}function bc(e,t,r,n){return sn(ki(t,e.length-r),e,r,n)}function yc(e,t,r,n){return sn(vc(t),e,r,n)}function gc(e,t,r,n){return sn(rs(t),e,r,n)}function wc(e,t,r,n){return sn(Ic(t,e.length-r),e,r,n)}h.prototype.write=function(t,r,n,i){if(r===void 0)i="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")i=r,n=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(n)?(n=n>>>0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let o=this.length-r;if((n===void 0||n>o)&&(n=o),t.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let a=!1;for(;;)switch(i){case"hex":return pc(this,t,r,n);case"utf8":case"utf-8":return bc(this,t,r,n);case"ascii":case"latin1":case"binary":return yc(this,t,r,n);case"base64":return gc(this,t,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return wc(this,t,r,n);default:if(a)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),a=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function _c(e,t,r){return t===0&&r===e.length?Ci.fromByteArray(e):Ci.fromByteArray(e.slice(t,r))}function Ga(e,t,r){r=Math.min(e.length,r);let n=[],i=t;for(;i<r;){let o=e[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s<=r){let l,u,d,c;switch(s){case 1:o<128&&(a=o);break;case 2:l=e[i+1],(l&192)===128&&(c=(o&31)<<6|l&63,c>127&&(a=c));break;case 3:l=e[i+1],u=e[i+2],(l&192)===128&&(u&192)===128&&(c=(o&15)<<12|(l&63)<<6|u&63,c>2047&&(c<55296||c>57343)&&(a=c));break;case 4:l=e[i+1],u=e[i+2],d=e[i+3],(l&192)===128&&(u&192)===128&&(d&192)===128&&(c=(o&15)<<18|(l&63)<<12|(u&63)<<6|d&63,c>65535&&c<1114112&&(a=c))}}a===null?(a=65533,s=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|a&1023),n.push(a),i+=s}return mc(n)}var Ya=4096;function mc(e){let t=e.length;if(t<=Ya)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=Ya));return r}function Sc(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]&127);return n}function Ec(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function Rc(e,t,r){let n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let o=t;o<r;++o)i+=Bc[e[o]];return i}function Tc(e,t,r){let n=e.slice(t,r),i="";for(let o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+n[o+1]*256);return i}h.prototype.slice=function(t,r){let n=this.length;t=~~t,r=r===void 0?n:~~r,t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<t&&(r=t);let i=this.subarray(t,r);return Object.setPrototypeOf(i,h.prototype),i};function K(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}h.prototype.readUintLE=h.prototype.readUIntLE=function(t,r,n){t=t>>>0,r=r>>>0,n||K(t,r,this.length);let i=this[t],o=1,a=0;for(;++a<r&&(o*=256);)i+=this[t+a]*o;return i},h.prototype.readUintBE=h.prototype.readUIntBE=function(t,r,n){t=t>>>0,r=r>>>0,n||K(t,r,this.length);let i=this[t+--r],o=1;for(;r>0&&(o*=256);)i+=this[t+--r]*o;return i},h.prototype.readUint8=h.prototype.readUInt8=function(t,r){return t=t>>>0,r||K(t,1,this.length),this[t]},h.prototype.readUint16LE=h.prototype.readUInt16LE=function(t,r){return t=t>>>0,r||K(t,2,this.length),this[t]|this[t+1]<<8},h.prototype.readUint16BE=h.prototype.readUInt16BE=function(t,r){return t=t>>>0,r||K(t,2,this.length),this[t]<<8|this[t+1]},h.prototype.readUint32LE=h.prototype.readUInt32LE=function(t,r){return t=t>>>0,r||K(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216},h.prototype.readUint32BE=h.prototype.readUInt32BE=function(t,r){return t=t>>>0,r||K(t,4,this.length),this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])},h.prototype.readBigUInt64LE=Xe(function(t){t=t>>>0,er(t,"offset");let r=this[t],n=this[t+7];(r===void 0||n===void 0)&&Pr(t,this.length-8);let i=r+this[++t]*2**8+this[++t]*2**16+this[++t]*2**24,o=this[++t]+this[++t]*2**8+this[++t]*2**16+n*2**24;return BigInt(i)+(BigInt(o)<<BigInt(32))}),h.prototype.readBigUInt64BE=Xe(function(t){t=t>>>0,er(t,"offset");let r=this[t],n=this[t+7];(r===void 0||n===void 0)&&Pr(t,this.length-8);let i=r*2**24+this[++t]*2**16+this[++t]*2**8+this[++t],o=this[++t]*2**24+this[++t]*2**16+this[++t]*2**8+n;return(BigInt(i)<<BigInt(32))+BigInt(o)}),h.prototype.readIntLE=function(t,r,n){t=t>>>0,r=r>>>0,n||K(t,r,this.length);let i=this[t],o=1,a=0;for(;++a<r&&(o*=256);)i+=this[t+a]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*r)),i},h.prototype.readIntBE=function(t,r,n){t=t>>>0,r=r>>>0,n||K(t,r,this.length);let i=r,o=1,a=this[t+--i];for(;i>0&&(o*=256);)a+=this[t+--i]*o;return o*=128,a>=o&&(a-=Math.pow(2,8*r)),a},h.prototype.readInt8=function(t,r){return t=t>>>0,r||K(t,1,this.length),this[t]&128?(255-this[t]+1)*-1:this[t]},h.prototype.readInt16LE=function(t,r){t=t>>>0,r||K(t,2,this.length);let n=this[t]|this[t+1]<<8;return n&32768?n|4294901760:n},h.prototype.readInt16BE=function(t,r){t=t>>>0,r||K(t,2,this.length);let n=this[t+1]|this[t]<<8;return n&32768?n|4294901760:n},h.prototype.readInt32LE=function(t,r){return t=t>>>0,r||K(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},h.prototype.readInt32BE=function(t,r){return t=t>>>0,r||K(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},h.prototype.readBigInt64LE=Xe(function(t){t=t>>>0,er(t,"offset");let r=this[t],n=this[t+7];(r===void 0||n===void 0)&&Pr(t,this.length-8);let i=this[t+4]+this[t+5]*2**8+this[t+6]*2**16+(n<<24);return(BigInt(i)<<BigInt(32))+BigInt(r+this[++t]*2**8+this[++t]*2**16+this[++t]*2**24)}),h.prototype.readBigInt64BE=Xe(function(t){t=t>>>0,er(t,"offset");let r=this[t],n=this[t+7];(r===void 0||n===void 0)&&Pr(t,this.length-8);let i=(r<<24)+this[++t]*2**16+this[++t]*2**8+this[++t];return(BigInt(i)<<BigInt(32))+BigInt(this[++t]*2**24+this[++t]*2**16+this[++t]*2**8+n)}),h.prototype.readFloatLE=function(t,r){return t=t>>>0,r||K(t,4,this.length),Xt.read(this,t,!0,23,4)},h.prototype.readFloatBE=function(t,r){return t=t>>>0,r||K(t,4,this.length),Xt.read(this,t,!1,23,4)},h.prototype.readDoubleLE=function(t,r){return t=t>>>0,r||K(t,8,this.length),Xt.read(this,t,!0,52,8)},h.prototype.readDoubleBE=function(t,r){return t=t>>>0,r||K(t,8,this.length),Xt.read(this,t,!1,52,8)};function oe(e,t,r,n,i,o){if(!h.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}h.prototype.writeUintLE=h.prototype.writeUIntLE=function(t,r,n,i){if(t=+t,r=r>>>0,n=n>>>0,!i){let s=Math.pow(2,8*n)-1;oe(this,t,r,n,s,0)}let o=1,a=0;for(this[r]=t&255;++a<n&&(o*=256);)this[r+a]=t/o&255;return r+n},h.prototype.writeUintBE=h.prototype.writeUIntBE=function(t,r,n,i){if(t=+t,r=r>>>0,n=n>>>0,!i){let s=Math.pow(2,8*n)-1;oe(this,t,r,n,s,0)}let o=n-1,a=1;for(this[r+o]=t&255;--o>=0&&(a*=256);)this[r+o]=t/a&255;return r+n},h.prototype.writeUint8=h.prototype.writeUInt8=function(t,r,n){return t=+t,r=r>>>0,n||oe(this,t,r,1,255,0),this[r]=t&255,r+1},h.prototype.writeUint16LE=h.prototype.writeUInt16LE=function(t,r,n){return t=+t,r=r>>>0,n||oe(this,t,r,2,65535,0),this[r]=t&255,this[r+1]=t>>>8,r+2},h.prototype.writeUint16BE=h.prototype.writeUInt16BE=function(t,r,n){return t=+t,r=r>>>0,n||oe(this,t,r,2,65535,0),this[r]=t>>>8,this[r+1]=t&255,r+2},h.prototype.writeUint32LE=h.prototype.writeUInt32LE=function(t,r,n){return t=+t,r=r>>>0,n||oe(this,t,r,4,4294967295,0),this[r+3]=t>>>24,this[r+2]=t>>>16,this[r+1]=t>>>8,this[r]=t&255,r+4},h.prototype.writeUint32BE=h.prototype.writeUInt32BE=function(t,r,n){return t=+t,r=r>>>0,n||oe(this,t,r,4,4294967295,0),this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=t&255,r+4};function Qa(e,t,r,n,i){ts(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r++]=o,o=o>>8,e[r++]=o,o=o>>8,e[r++]=o,o=o>>8,e[r++]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=a,a=a>>8,e[r++]=a,a=a>>8,e[r++]=a,a=a>>8,e[r++]=a,r}function Ka(e,t,r,n,i){ts(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r+7]=o,o=o>>8,e[r+6]=o,o=o>>8,e[r+5]=o,o=o>>8,e[r+4]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=a,a=a>>8,e[r+2]=a,a=a>>8,e[r+1]=a,a=a>>8,e[r]=a,r+8}h.prototype.writeBigUInt64LE=Xe(function(t,r=0){return Qa(this,t,r,BigInt(0),BigInt("0xffffffffffffffff"))}),h.prototype.writeBigUInt64BE=Xe(function(t,r=0){return Ka(this,t,r,BigInt(0),BigInt("0xffffffffffffffff"))}),h.prototype.writeIntLE=function(t,r,n,i){if(t=+t,r=r>>>0,!i){let l=Math.pow(2,8*n-1);oe(this,t,r,n,l-1,-l)}let o=0,a=1,s=0;for(this[r]=t&255;++o<n&&(a*=256);)t<0&&s===0&&this[r+o-1]!==0&&(s=1),this[r+o]=(t/a>>0)-s&255;return r+n},h.prototype.writeIntBE=function(t,r,n,i){if(t=+t,r=r>>>0,!i){let l=Math.pow(2,8*n-1);oe(this,t,r,n,l-1,-l)}let o=n-1,a=1,s=0;for(this[r+o]=t&255;--o>=0&&(a*=256);)t<0&&s===0&&this[r+o+1]!==0&&(s=1),this[r+o]=(t/a>>0)-s&255;return r+n},h.prototype.writeInt8=function(t,r,n){return t=+t,r=r>>>0,n||oe(this,t,r,1,127,-128),t<0&&(t=255+t+1),this[r]=t&255,r+1},h.prototype.writeInt16LE=function(t,r,n){return t=+t,r=r>>>0,n||oe(this,t,r,2,32767,-32768),this[r]=t&255,this[r+1]=t>>>8,r+2},h.prototype.writeInt16BE=function(t,r,n){return t=+t,r=r>>>0,n||oe(this,t,r,2,32767,-32768),this[r]=t>>>8,this[r+1]=t&255,r+2},h.prototype.writeInt32LE=function(t,r,n){return t=+t,r=r>>>0,n||oe(this,t,r,4,2147483647,-2147483648),this[r]=t&255,this[r+1]=t>>>8,this[r+2]=t>>>16,this[r+3]=t>>>24,r+4},h.prototype.writeInt32BE=function(t,r,n){return t=+t,r=r>>>0,n||oe(this,t,r,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=t&255,r+4},h.prototype.writeBigInt64LE=Xe(function(t,r=0){return Qa(this,t,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),h.prototype.writeBigInt64BE=Xe(function(t,r=0){return Ka(this,t,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ja(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function Xa(e,t,r,n,i){return t=+t,r=r>>>0,i||Ja(e,t,r,4,34028234663852886e22,-34028234663852886e22),Xt.write(e,t,r,n,23,4),r+4}h.prototype.writeFloatLE=function(t,r,n){return Xa(this,t,r,!0,n)},h.prototype.writeFloatBE=function(t,r,n){return Xa(this,t,r,!1,n)};function Za(e,t,r,n,i){return t=+t,r=r>>>0,i||Ja(e,t,r,8,17976931348623157e292,-17976931348623157e292),Xt.write(e,t,r,n,52,8),r+8}h.prototype.writeDoubleLE=function(t,r,n){return Za(this,t,r,!0,n)},h.prototype.writeDoubleBE=function(t,r,n){return Za(this,t,r,!1,n)},h.prototype.copy=function(t,r,n,i){if(!h.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),!i&&i!==0&&(i=this.length),r>=t.length&&(r=t.length),r||(r=0),i>0&&i<n&&(i=n),i===n||t.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-r<i-n&&(i=t.length-r+n);let o=i-n;return this===t&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,n,i):Uint8Array.prototype.set.call(t,this.subarray(n,i),r),o},h.prototype.fill=function(t,r,n,i){if(typeof t=="string"){if(typeof r=="string"?(i=r,r=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!h.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(t.length===1){let a=t.charCodeAt(0);(i==="utf8"&&a<128||i==="latin1")&&(t=a)}}else typeof t=="number"?t=t&255:typeof t=="boolean"&&(t=Number(t));if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,t||(t=0);let o;if(typeof t=="number")for(o=r;o<n;++o)this[o]=t;else{let a=h.isBuffer(t)?t:h.from(t,i),s=a.length;if(s===0)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(o=0;o<n-r;++o)this[o+r]=a[o%s]}return this};var Zt={};function xi(e,t,r){Zt[e]=class extends r{constructor(){super();Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(i){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:i,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}xi("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),xi("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError),xi("ERR_OUT_OF_RANGE",function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=es(String(r)):typeof r=="bigint"&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=es(i)),i+="n"),n+=` It must be ${t}. Received ${i}`,n},RangeError);function es(e){let t="",r=e.length,n=e[0]==="-"?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function Ac(e,t,r){er(t,"offset"),(e[t]===void 0||e[t+r]===void 0)&&Pr(t,e.length-(r+1))}function ts(e,t,r,n,i,o){if(e>r||e<t){let a=typeof t=="bigint"?"n":"",s;throw o>3?t===0||t===BigInt(0)?s=`>= 0${a} and < 2${a} ** ${(o+1)*8}${a}`:s=`>= -(2${a} ** ${(o+1)*8-1}${a}) and < 2 ** ${(o+1)*8-1}${a}`:s=`>= ${t}${a} and <= ${r}${a}`,new Zt.ERR_OUT_OF_RANGE("value",s,e)}Ac(n,i,o)}function er(e,t){if(typeof e!="number")throw new Zt.ERR_INVALID_ARG_TYPE(t,"number",e)}function Pr(e,t,r){throw Math.floor(e)!==e?(er(e,r),new Zt.ERR_OUT_OF_RANGE(r||"offset","an integer",e)):t<0?new Zt.ERR_BUFFER_OUT_OF_BOUNDS:new Zt.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}var Cc=/[^+/0-9A-Za-z-_]/g;function Pc(e){if(e=e.split("=")[0],e=e.trim().replace(Cc,""),e.length<2)return"";for(;e.length%4!==0;)e=e+"=";return e}function ki(e,t){t=t||1/0;let r,n=e.length,i=null,o=[];for(let a=0;a<n;++a){if(r=e.charCodeAt(a),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}else if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,r&63|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return o}function vc(e){let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r)&255);return t}function Ic(e,t){let r,n,i,o=[];for(let a=0;a<e.length&&!((t-=2)<0);++a)r=e.charCodeAt(a),n=r>>8,i=r%256,o.push(i),o.push(n);return o}function rs(e){return Ci.toByteArray(Pc(e))}function sn(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function ve(e,t){return e instanceof t||e!=null&&e.constructor!=null&&e.constructor.name!=null&&e.constructor.name===t.name}function Oi(e){return e!==e}var Bc=function(){let e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){let n=r*16;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function Xe(e){return typeof BigInt=="undefined"?xc:e}function xc(){throw new Error("BigInt not supported")}});var $=O((J_,ns)=>{"use strict";ns.exports={ArrayIsArray(e){return Array.isArray(e)},ArrayPrototypeIncludes(e,t){return e.includes(t)},ArrayPrototypeIndexOf(e,t){return e.indexOf(t)},ArrayPrototypeJoin(e,t){return e.join(t)},ArrayPrototypeMap(e,t){return e.map(t)},ArrayPrototypePop(e,t){return e.pop(t)},ArrayPrototypePush(e,t){return e.push(t)},ArrayPrototypeSlice(e,t,r){return e.slice(t,r)},Error,FunctionPrototypeCall(e,t,...r){return e.call(t,...r)},FunctionPrototypeSymbolHasInstance(e,t){return Function.prototype[Symbol.hasInstance].call(e,t)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(e,t){return Object.defineProperties(e,t)},ObjectDefineProperty(e,t,r){return Object.defineProperty(e,t,r)},ObjectGetOwnPropertyDescriptor(e,t){return Object.getOwnPropertyDescriptor(e,t)},ObjectKeys(e){return Object.keys(e)},ObjectSetPrototypeOf(e,t){return Object.setPrototypeOf(e,t)},Promise,PromisePrototypeCatch(e,t){return e.catch(t)},PromisePrototypeThen(e,t,r){return e.then(t,r)},PromiseReject(e){return Promise.reject(e)},PromiseResolve(e){return Promise.resolve(e)},ReflectApply:Reflect.apply,RegExpPrototypeTest(e,t){return e.test(t)},SafeSet:Set,String,StringPrototypeSlice(e,t,r){return e.slice(t,r)},StringPrototypeToLowerCase(e){return e.toLowerCase()},StringPrototypeToUpperCase(e){return e.toUpperCase()},StringPrototypeTrim(e){return e.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(e,t,r){return e.set(t,r)},Boolean,Uint8Array}});var hs=O((Ir,Br)=>{"use strict";Object.defineProperty(Ir,"__esModule",{value:!0});var is=new WeakMap,qi=new WeakMap;function M(e){return is.get(e)}function os(e){e.passiveListener==null&&(!e.event.cancelable||(e.canceled=!0,typeof e.event.preventDefault=="function"&&e.event.preventDefault()))}function rr(e,t){is.set(this,{eventTarget:e,event:t,eventPhase:2,currentTarget:e,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:t.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});let r=Object.keys(t);for(let n=0;n<r.length;++n){let i=r[n];i in this||Object.defineProperty(this,i,as(i))}}rr.prototype={get type(){return M(this).event.type},get target(){return M(this).eventTarget},get currentTarget(){return M(this).currentTarget},composedPath(){let e=M(this).currentTarget;return e==null?[]:[e]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return M(this).eventPhase},stopPropagation(){let e=M(this);e.stopped=!0,typeof e.event.stopPropagation=="function"&&e.event.stopPropagation()},stopImmediatePropagation(){let e=M(this);e.stopped=!0,e.immediateStopped=!0,typeof e.event.stopImmediatePropagation=="function"&&e.event.stopImmediatePropagation()},get bubbles(){return Boolean(M(this).event.bubbles)},get cancelable(){return Boolean(M(this).event.cancelable)},preventDefault(){os(M(this))},get defaultPrevented(){return M(this).canceled},get composed(){return Boolean(M(this).event.composed)},get timeStamp(){return M(this).timeStamp},get srcElement(){return M(this).eventTarget},get cancelBubble(){return M(this).stopped},set cancelBubble(e){if(!e)return;let t=M(this);t.stopped=!0,typeof t.event.cancelBubble=="boolean"&&(t.event.cancelBubble=!0)},get returnValue(){return!M(this).canceled},set returnValue(e){e||os(M(this))},initEvent(){}},Object.defineProperty(rr.prototype,"constructor",{value:rr,configurable:!0,writable:!0}),typeof window!="undefined"&&typeof window.Event!="undefined"&&(Object.setPrototypeOf(rr.prototype,window.Event.prototype),qi.set(window.Event.prototype,rr));function as(e){return{get(){return M(this).event[e]},set(t){M(this).event[e]=t},configurable:!0,enumerable:!0}}function kc(e){return{value(){let t=M(this).event;return t[e].apply(t,arguments)},configurable:!0,enumerable:!0}}function Oc(e,t){let r=Object.keys(t);if(r.length===0)return e;function n(i,o){e.call(this,i,o)}n.prototype=Object.create(e.prototype,{constructor:{value:n,configurable:!0,writable:!0}});for(let i=0;i<r.length;++i){let o=r[i];if(!(o in e.prototype)){let s=typeof Object.getOwnPropertyDescriptor(t,o).value=="function";Object.defineProperty(n.prototype,o,s?kc(o):as(o))}}return n}function ss(e){if(e==null||e===Object.prototype)return rr;let t=qi.get(e);return t==null&&(t=Oc(ss(Object.getPrototypeOf(e)),e),qi.set(e,t)),t}function qc(e,t){let r=ss(Object.getPrototypeOf(t));return new r(e,t)}function Wc(e){return M(e).immediateStopped}function Lc(e,t){M(e).eventPhase=t}function Fc(e,t){M(e).currentTarget=t}function ls(e,t){M(e).passiveListener=t}var us=new WeakMap,fs=1,ds=2,ln=3;function un(e){return e!==null&&typeof e=="object"}function vr(e){let t=us.get(e);if(t==null)throw new TypeError("'this' is expected an EventTarget object, but got another value.");return t}function Nc(e){return{get(){let r=vr(this).get(e);for(;r!=null;){if(r.listenerType===ln)return r.listener;r=r.next}return null},set(t){typeof t!="function"&&!un(t)&&(t=null);let r=vr(this),n=null,i=r.get(e);for(;i!=null;)i.listenerType===ln?n!==null?n.next=i.next:i.next!==null?r.set(e,i.next):r.delete(e):n=i,i=i.next;if(t!==null){let o={listener:t,listenerType:ln,passive:!1,once:!1,next:null};n===null?r.set(e,o):n.next=o}},configurable:!0,enumerable:!0}}function Wi(e,t){Object.defineProperty(e,`on${t}`,Nc(t))}function cs(e){function t(){_e.call(this)}t.prototype=Object.create(_e.prototype,{constructor:{value:t,configurable:!0,writable:!0}});for(let r=0;r<e.length;++r)Wi(t.prototype,e[r]);return t}function _e(){if(this instanceof _e){us.set(this,new Map);return}if(arguments.length===1&&Array.isArray(arguments[0]))return cs(arguments[0]);if(arguments.length>0){let e=new Array(arguments.length);for(let t=0;t<arguments.length;++t)e[t]=arguments[t];return cs(e)}throw new TypeError("Cannot call a class as a function")}_e.prototype={addEventListener(e,t,r){if(t==null)return;if(typeof t!="function"&&!un(t))throw new TypeError("'listener' should be a function or an object.");let n=vr(this),i=un(r),a=Boolean(i?r.capture:r)?fs:ds,s={listener:t,listenerType:a,passive:i&&Boolean(r.passive),once:i&&Boolean(r.once),next:null},l=n.get(e);if(l===void 0){n.set(e,s);return}let u=null;for(;l!=null;){if(l.listener===t&&l.listenerType===a)return;u=l,l=l.next}u.next=s},removeEventListener(e,t,r){if(t==null)return;let n=vr(this),o=(un(r)?Boolean(r.capture):Boolean(r))?fs:ds,a=null,s=n.get(e);for(;s!=null;){if(s.listener===t&&s.listenerType===o){a!==null?a.next=s.next:s.next!==null?n.set(e,s.next):n.delete(e);return}a=s,s=s.next}},dispatchEvent(e){if(e==null||typeof e.type!="string")throw new TypeError('"event.type" should be a string.');let t=vr(this),r=e.type,n=t.get(r);if(n==null)return!0;let i=qc(this,e),o=null;for(;n!=null;){if(n.once?o!==null?o.next=n.next:n.next!==null?t.set(r,n.next):t.delete(r):o=n,ls(i,n.passive?n.listener:null),typeof n.listener=="function")try{n.listener.call(this,i)}catch{}else n.listenerType!==ln&&typeof n.listener.handleEvent=="function"&&n.listener.handleEvent(i);if(Wc(i))break;n=n.next}return ls(i,null),Lc(i,0),Fc(i,null),!i.defaultPrevented}},Object.defineProperty(_e.prototype,"constructor",{value:_e,configurable:!0,writable:!0}),typeof window!="undefined"&&typeof window.EventTarget!="undefined"&&Object.setPrototypeOf(_e.prototype,window.EventTarget.prototype),Ir.defineEventAttribute=Wi,Ir.EventTarget=_e,Ir.default=_e,Br.exports=_e,Br.exports.EventTarget=Br.exports.default=_e,Br.exports.defineEventAttribute=Wi});var nr=O((xr,kr)=>{"use strict";Object.defineProperty(xr,"__esModule",{value:!0});var Li=hs(),_t=class extends Li.EventTarget{constructor(){super();throw new TypeError("AbortSignal cannot be constructed directly")}get aborted(){let t=fn.get(this);if(typeof t!="boolean")throw new TypeError(`Expected 'this' to be an 'AbortSignal' object, but got ${this===null?"null":typeof this}`);return t}};Li.defineEventAttribute(_t.prototype,"abort");function Dc(){let e=Object.create(_t.prototype);return Li.EventTarget.call(e),fn.set(e,!1),e}function Mc(e){fn.get(e)===!1&&(fn.set(e,!0),e.dispatchEvent({type:"abort"}))}var fn=new WeakMap;Object.defineProperties(_t.prototype,{aborted:{enumerable:!0}}),typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(_t.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortSignal"});var mt=class{constructor(){ps.set(this,Dc())}get signal(){return bs(this)}abort(){Mc(bs(this))}},ps=new WeakMap;function bs(e){let t=ps.get(e);if(t==null)throw new TypeError(`Expected 'this' to be an 'AbortController' object, but got ${e===null?"null":typeof e}`);return t}Object.defineProperties(mt.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}}),typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(mt.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortController"}),xr.AbortController=mt,xr.AbortSignal=_t,xr.default=mt,kr.exports=mt,kr.exports.AbortController=kr.exports.default=mt,kr.exports.AbortSignal=_t});var Or=O((Z_,Fi)=>{"use strict";var ir=typeof Reflect=="object"?Reflect:null,ys=ir&&typeof ir.apply=="function"?ir.apply:function(t,r,n){return Function.prototype.apply.call(t,r,n)},dn;ir&&typeof ir.ownKeys=="function"?dn=ir.ownKeys:Object.getOwnPropertySymbols?dn=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:dn=function(t){return Object.getOwnPropertyNames(t)};function X_(e){}var gs=Number.isNaN||function(t){return t!==t};function D(){D.init.call(this)}Fi.exports=D,Fi.exports.once=zc,D.EventEmitter=D,D.prototype._events=void 0,D.prototype._eventsCount=0,D.prototype._maxListeners=void 0;var ws=10;function cn(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(D,"defaultMaxListeners",{enumerable:!0,get:function(){return ws},set:function(e){if(typeof e!="number"||e<0||gs(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");ws=e}}),D.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},D.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||gs(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function _s(e){return e._maxListeners===void 0?D.defaultMaxListeners:e._maxListeners}D.prototype.getMaxListeners=function(){return _s(this)},D.prototype.emit=function(t){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=t==="error",o=this._events;if(o!==void 0)i=i&&o.error===void 0;else if(!i)return!1;if(i){var a;if(r.length>0&&(a=r[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var l=o[t];if(l===void 0)return!1;if(typeof l=="function")ys(l,this,r);else for(var u=l.length,d=Ts(l,u),n=0;n<u;++n)ys(d[n],this,r);return!0};function ms(e,t,r,n){var i,o,a;if(cn(r),o=e._events,o===void 0?(o=e._events=Object.create(null),e._eventsCount=0):(o.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),a=o[t]),a===void 0)a=o[t]=r,++e._eventsCount;else if(typeof a=="function"?a=o[t]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),i=_s(e),i>0&&a.length>i&&!a.warned){a.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=e,s.type=t,s.count=a.length}return e}D.prototype.addListener=function(t,r){return ms(this,t,r,!1)},D.prototype.on=D.prototype.addListener,D.prototype.prependListener=function(t,r){return ms(this,t,r,!0)};function jc(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Ss(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=jc.bind(n);return i.listener=r,n.wrapFn=i,i}D.prototype.once=function(t,r){return cn(r),this.on(t,Ss(this,t,r)),this},D.prototype.prependOnceListener=function(t,r){return cn(r),this.prependListener(t,Ss(this,t,r)),this},D.prototype.removeListener=function(t,r){var n,i,o,a,s;if(cn(r),i=this._events,i===void 0)return this;if(n=i[t],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,n.listener||r));else if(typeof n!="function"){for(o=-1,a=n.length-1;a>=0;a--)if(n[a]===r||n[a].listener===r){s=n[a].listener,o=a;break}if(o<0)return this;o===0?n.shift():Uc(n,o),n.length===1&&(i[t]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",t,s||r)}return this},D.prototype.off=D.prototype.removeListener,D.prototype.removeAllListeners=function(t){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[t]),this;if(arguments.length===0){var o=Object.keys(n),a;for(i=0;i<o.length;++i)a=o[i],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[t],typeof r=="function")this.removeListener(t,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(t,r[i]);return this};function Es(e,t,r){var n=e._events;if(n===void 0)return[];var i=n[t];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?$c(i):Ts(i,i.length)}D.prototype.listeners=function(t){return Es(this,t,!0)},D.prototype.rawListeners=function(t){return Es(this,t,!1)},D.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):Rs.call(e,t)},D.prototype.listenerCount=Rs;function Rs(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}D.prototype.eventNames=function(){return this._eventsCount>0?dn(this._events):[]};function Ts(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function Uc(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function $c(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function zc(e,t){return new Promise(function(r,n){function i(a){e.removeListener(t,o),n(a)}function o(){typeof e.removeListener=="function"&&e.removeListener("error",i),r([].slice.call(arguments))}As(e,t,o,{once:!0}),t!=="error"&&Hc(e,i,{once:!0})})}function Hc(e,t,r){typeof e.on=="function"&&As(e,"error",t,r)}function As(e,t,r,n){if(typeof e.on=="function")n.once?e.once(t,r):e.on(t,r);else if(typeof e.addEventListener=="function")e.addEventListener(t,function i(o){n.once&&e.removeEventListener(t,i),r(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}});var Z=O((em,Ni)=>{"use strict";var Vc=Me(),{kResistStopPropagation:Gc,SymbolDispose:Yc}=$(),Qc=globalThis.AbortSignal||nr().AbortSignal,Kc=globalThis.AbortController||nr().AbortController,Jc=Object.getPrototypeOf(async function(){}).constructor,Cs=globalThis.Blob||Vc.Blob,Xc=typeof Cs!="undefined"?function(t){return t instanceof Cs}:function(t){return!1},Ps=(e,t)=>{if(e!==void 0&&(e===null||typeof e!="object"||!("aborted"in e)))throw new ERR_INVALID_ARG_TYPE(t,"AbortSignal",e)},Zc=(e,t)=>{if(typeof e!="function")throw new ERR_INVALID_ARG_TYPE(t,"Function",e)},vs=class extends Error{constructor(t){if(!Array.isArray(t))throw new TypeError(`Expected input to be an Array, got ${typeof t}`);let r="";for(let n=0;n<t.length;n++)r+=`    ${t[n].stack}
`;super(r);this.name="AggregateError",this.errors=t}};Ni.exports={AggregateError:vs,kEmptyObject:Object.freeze({}),once(e){let t=!1;return function(...r){t||(t=!0,e.apply(this,r))}},createDeferredPromise:function(){let e,t;return{promise:new Promise((n,i)=>{e=n,t=i}),resolve:e,reject:t}},promisify(e){return new Promise((t,r)=>{e((n,...i)=>n?r(n):t(...i))})},debuglog(){return function(){}},format(e,...t){return e.replace(/%([sdifj])/g,function(...[r,n]){let i=t.shift();return n==="f"?i.toFixed(6):n==="j"?JSON.stringify(i):n==="s"&&typeof i=="object"?`${i.constructor!==Object?i.constructor.name:""} {}`.trim():i.toString()})},inspect(e){switch(typeof e){case"string":if(e.includes("'"))if(e.includes('"')){if(!e.includes("`")&&!e.includes("${"))return`\`${e}\``}else return`"${e}"`;return`'${e}'`;case"number":return isNaN(e)?"NaN":Object.is(e,-0)?String(e):e;case"bigint":return`${String(e)}n`;case"boolean":case"undefined":return String(e);case"object":return"{}"}},types:{isAsyncFunction(e){return e instanceof Jc},isArrayBufferView(e){return ArrayBuffer.isView(e)}},isBlob:Xc,deprecate(e,t){return e},addAbortListener:Or().addAbortListener||function(t,r){if(t===void 0)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",t);Ps(t,"signal"),Zc(r,"listener");let n;return t.aborted?queueMicrotask(()=>r()):(t.addEventListener("abort",r,{__proto__:null,once:!0,[Gc]:!0}),n=()=>{t.removeEventListener("abort",r)}),{__proto__:null,[Yc](){var i;(i=n)===null||i===void 0||i()}}},AbortSignalAny:Qc.any||function(t){if(t.length===1)return t[0];let r=new Kc,n=()=>r.abort();return t.forEach(i=>{Ps(i,"signals"),i.addEventListener("abort",n,{once:!0})}),r.signal.addEventListener("abort",()=>{t.forEach(i=>i.removeEventListener("abort",n))},{once:!0}),r.signal}},Ni.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")});var ne=O((tm,ks)=>{"use strict";var{format:eh,inspect:hn,AggregateError:th}=Z(),rh=globalThis.AggregateError||th,nh=Symbol("kIsNodeError"),ih=["string","function","number","object","Function","Object","boolean","bigint","symbol"],oh=/^([A-Z][a-z0-9]*)+$/,ah="__node_internal_",pn={};function St(e,t){if(!e)throw new pn.ERR_INTERNAL_ASSERTION(t)}function Is(e){let t="",r=e.length,n=e[0]==="-"?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function sh(e,t,r){if(typeof t=="function")return St(t.length<=r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${t.length}).`),t(...r);let n=(t.match(/%[dfijoOs]/g)||[]).length;return St(n===r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${n}).`),r.length===0?t:eh(t,...r)}function J(e,t,r){r||(r=Error);class n extends r{constructor(...o){super(sh(e,t,o))}toString(){return`${this.name} [${e}]: ${this.message}`}}Object.defineProperties(n.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${e}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),n.prototype.code=e,n.prototype[nh]=!0,pn[e]=n}function Bs(e){let t=ah+e.name;return Object.defineProperty(e,"name",{value:t}),e}function lh(e,t){if(e&&t&&e!==t){if(Array.isArray(t.errors))return t.errors.push(e),t;let r=new rh([t,e],t.message);return r.code=t.code,r}return e||t}var xs=class extends Error{constructor(t="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new pn.ERR_INVALID_ARG_TYPE("options","Object",r);super(t,r);this.code="ABORT_ERR",this.name="AbortError"}};J("ERR_ASSERTION","%s",Error),J("ERR_INVALID_ARG_TYPE",(e,t,r)=>{St(typeof e=="string","'name' must be a string"),Array.isArray(t)||(t=[t]);let n="The ";e.endsWith(" argument")?n+=`${e} `:n+=`"${e}" ${e.includes(".")?"property":"argument"} `,n+="must be ";let i=[],o=[],a=[];for(let l of t)St(typeof l=="string","All expected entries have to be of type string"),ih.includes(l)?i.push(l.toLowerCase()):oh.test(l)?o.push(l):(St(l!=="object",'The value "object" should be written as "Object"'),a.push(l));if(o.length>0){let l=i.indexOf("object");l!==-1&&(i.splice(i,l,1),o.push("Object"))}if(i.length>0){switch(i.length){case 1:n+=`of type ${i[0]}`;break;case 2:n+=`one of type ${i[0]} or ${i[1]}`;break;default:{let l=i.pop();n+=`one of type ${i.join(", ")}, or ${l}`}}(o.length>0||a.length>0)&&(n+=" or ")}if(o.length>0){switch(o.length){case 1:n+=`an instance of ${o[0]}`;break;case 2:n+=`an instance of ${o[0]} or ${o[1]}`;break;default:{let l=o.pop();n+=`an instance of ${o.join(", ")}, or ${l}`}}a.length>0&&(n+=" or ")}switch(a.length){case 0:break;case 1:a[0].toLowerCase()!==a[0]&&(n+="an "),n+=`${a[0]}`;break;case 2:n+=`one of ${a[0]} or ${a[1]}`;break;default:{let l=a.pop();n+=`one of ${a.join(", ")}, or ${l}`}}if(r==null)n+=`. Received ${r}`;else if(typeof r=="function"&&r.name)n+=`. Received function ${r.name}`;else if(typeof r=="object"){var s;(s=r.constructor)!==null&&s!==void 0&&s.name?n+=`. Received an instance of ${r.constructor.name}`:n+=`. Received ${hn(r,{depth:-1})}`}else{let l=hn(r,{colors:!1});l.length>25&&(l=`${l.slice(0,25)}...`),n+=`. Received type ${typeof r} (${l})`}return n},TypeError),J("ERR_INVALID_ARG_VALUE",(e,t,r="is invalid")=>{let n=hn(t);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${e.includes(".")?"property":"argument"} '${e}' ${r}. Received ${n}`},TypeError),J("ERR_INVALID_RETURN_VALUE",(e,t,r)=>{var n;let i=r!=null&&(n=r.constructor)!==null&&n!==void 0&&n.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${e} to be returned from the "${t}" function but got ${i}.`},TypeError),J("ERR_MISSING_ARGS",(...e)=>{St(e.length>0,"At least one arg needs to be specified");let t,r=e.length;switch(e=(Array.isArray(e)?e:[e]).map(n=>`"${n}"`).join(" or "),r){case 1:t+=`The ${e[0]} argument`;break;case 2:t+=`The ${e[0]} and ${e[1]} arguments`;break;default:{let n=e.pop();t+=`The ${e.join(", ")}, and ${n} arguments`}break}return`${t} must be specified`},TypeError),J("ERR_OUT_OF_RANGE",(e,t,r)=>{St(t,'Missing "range" argument');let n;return Number.isInteger(r)&&Math.abs(r)>2**32?n=Is(String(r)):typeof r=="bigint"?(n=String(r),(r>2n**32n||r<-(2n**32n))&&(n=Is(n)),n+="n"):n=hn(r),`The value of "${e}" is out of range. It must be ${t}. Received ${n}`},RangeError),J("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),J("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),J("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),J("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),J("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),J("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),J("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),J("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),J("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),J("ERR_STREAM_WRITE_AFTER_END","write after end",Error),J("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),ks.exports={AbortError:xs,aggregateTwoErrors:Bs(lh),hideStackFrames:Bs,codes:pn}});var ar=O((rm,Us)=>{"use strict";var{ArrayIsArray:Di,ArrayPrototypeIncludes:Os,ArrayPrototypeJoin:qs,ArrayPrototypeMap:uh,NumberIsInteger:Mi,NumberIsNaN:fh,NumberMAX_SAFE_INTEGER:dh,NumberMIN_SAFE_INTEGER:ch,NumberParseInt:hh,ObjectPrototypeHasOwnProperty:ph,RegExpPrototypeExec:Ws,String:bh,StringPrototypeToUpperCase:yh,StringPrototypeTrim:gh}=$(),{hideStackFrames:de,codes:{ERR_SOCKET_BAD_PORT:wh,ERR_INVALID_ARG_TYPE:ee,ERR_INVALID_ARG_VALUE:or,ERR_OUT_OF_RANGE:Et,ERR_UNKNOWN_SIGNAL:Ls}}=ne(),{normalizeEncoding:_h}=Z(),{isAsyncFunction:mh,isArrayBufferView:Sh}=Z().types,Fs={};function Eh(e){return e===(e|0)}function Rh(e){return e===e>>>0}var Th=/^[0-7]+$/,Ah="must be a 32-bit unsigned integer or an octal string";function Ch(e,t,r){if(typeof e=="undefined"&&(e=r),typeof e=="string"){if(Ws(Th,e)===null)throw new or(t,e,Ah);e=hh(e,8)}return Ns(e,t),e}var Ph=de((e,t,r=ch,n=dh)=>{if(typeof e!="number")throw new ee(t,"number",e);if(!Mi(e))throw new Et(t,"an integer",e);if(e<r||e>n)throw new Et(t,`>= ${r} && <= ${n}`,e)}),vh=de((e,t,r=-2147483648,n=2147483647)=>{if(typeof e!="number")throw new ee(t,"number",e);if(!Mi(e))throw new Et(t,"an integer",e);if(e<r||e>n)throw new Et(t,`>= ${r} && <= ${n}`,e)}),Ns=de((e,t,r=!1)=>{if(typeof e!="number")throw new ee(t,"number",e);if(!Mi(e))throw new Et(t,"an integer",e);let n=r?1:0,i=4294967295;if(e<n||e>i)throw new Et(t,`>= ${n} && <= ${i}`,e)});function ji(e,t){if(typeof e!="string")throw new ee(t,"string",e)}function Ih(e,t,r=void 0,n){if(typeof e!="number")throw new ee(t,"number",e);if(r!=null&&e<r||n!=null&&e>n||(r!=null||n!=null)&&fh(e))throw new Et(t,`${r!=null?`>= ${r}`:""}${r!=null&&n!=null?" && ":""}${n!=null?`<= ${n}`:""}`,e)}var Bh=de((e,t,r)=>{if(!Os(r,e)){let n=qs(uh(r,o=>typeof o=="string"?`'${o}'`:bh(o)),", "),i="must be one of: "+n;throw new or(t,e,i)}});function Ds(e,t){if(typeof e!="boolean")throw new ee(t,"boolean",e)}function Ui(e,t,r){return e==null||!ph(e,t)?r:e[t]}var xh=de((e,t,r=null)=>{let n=Ui(r,"allowArray",!1),i=Ui(r,"allowFunction",!1);if(!Ui(r,"nullable",!1)&&e===null||!n&&Di(e)||typeof e!="object"&&(!i||typeof e!="function"))throw new ee(t,"Object",e)}),kh=de((e,t)=>{if(e!=null&&typeof e!="object"&&typeof e!="function")throw new ee(t,"a dictionary",e)}),bn=de((e,t,r=0)=>{if(!Di(e))throw new ee(t,"Array",e);if(e.length<r){let n=`must be longer than ${r}`;throw new or(t,e,n)}});function Oh(e,t){bn(e,t);for(let r=0;r<e.length;r++)ji(e[r],`${t}[${r}]`)}function qh(e,t){bn(e,t);for(let r=0;r<e.length;r++)Ds(e[r],`${t}[${r}]`)}function Wh(e,t){bn(e,t);for(let r=0;r<e.length;r++){let n=e[r],i=`${t}[${r}]`;if(n==null)throw new ee(i,"AbortSignal",n);Ms(n,i)}}function Lh(e,t="signal"){if(ji(e,t),Fs[e]===void 0)throw Fs[yh(e)]!==void 0?new Ls(e+" (signals must use all capital letters)"):new Ls(e)}var Fh=de((e,t="buffer")=>{if(!Sh(e))throw new ee(t,["Buffer","TypedArray","DataView"],e)});function Nh(e,t){let r=_h(t),n=e.length;if(r==="hex"&&n%2!==0)throw new or("encoding",t,`is invalid for data of length ${n}`)}function Dh(e,t="Port",r=!0){if(typeof e!="number"&&typeof e!="string"||typeof e=="string"&&gh(e).length===0||+e!==+e>>>0||e>65535||e===0&&!r)throw new wh(t,e,r);return e|0}var Ms=de((e,t)=>{if(e!==void 0&&(e===null||typeof e!="object"||!("aborted"in e)))throw new ee(t,"AbortSignal",e)}),Mh=de((e,t)=>{if(typeof e!="function")throw new ee(t,"Function",e)}),jh=de((e,t)=>{if(typeof e!="function"||mh(e))throw new ee(t,"Function",e)}),Uh=de((e,t)=>{if(e!==void 0)throw new ee(t,"undefined",e)});function $h(e,t,r){if(!Os(r,e))throw new ee(t,`('${qs(r,"|")}')`,e)}var zh=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function js(e,t){if(typeof e=="undefined"||!Ws(zh,e))throw new or(t,e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function Hh(e){if(typeof e=="string")return js(e,"hints"),e;if(Di(e)){let t=e.length,r="";if(t===0)return r;for(let n=0;n<t;n++){let i=e[n];js(i,"hints"),r+=i,n!==t-1&&(r+=", ")}return r}throw new or("hints",e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}Us.exports={isInt32:Eh,isUint32:Rh,parseFileMode:Ch,validateArray:bn,validateStringArray:Oh,validateBooleanArray:qh,validateAbortSignalArray:Wh,validateBoolean:Ds,validateBuffer:Fh,validateDictionary:kh,validateEncoding:Nh,validateFunction:Mh,validateInt32:vh,validateInteger:Ph,validateNumber:Ih,validateObject:xh,validateOneOf:Bh,validatePlainFunction:jh,validatePort:Dh,validateSignalName:Lh,validateString:ji,validateUint32:Ns,validateUndefined:Uh,validateUnion:$h,validateAbortSignal:Ms,validateLinkHeaderValue:Hh}});var Ze=O((nm,$s)=>{$s.exports=global.process});var Be=O((im,il)=>{"use strict";var{SymbolAsyncIterator:zs,SymbolIterator:Hs,SymbolFor:Rt}=$(),Vs=Rt("nodejs.stream.destroyed"),Gs=Rt("nodejs.stream.errored"),$i=Rt("nodejs.stream.readable"),zi=Rt("nodejs.stream.writable"),Ys=Rt("nodejs.stream.disturbed"),Vh=Rt("nodejs.webstream.isClosedPromise"),Gh=Rt("nodejs.webstream.controllerErrorFunction");function yn(e,t=!1){var r;return!!(e&&typeof e.pipe=="function"&&typeof e.on=="function"&&(!t||typeof e.pause=="function"&&typeof e.resume=="function")&&(!e._writableState||((r=e._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!e._writableState||e._readableState))}function gn(e){var t;return!!(e&&typeof e.write=="function"&&typeof e.on=="function"&&(!e._readableState||((t=e._writableState)===null||t===void 0?void 0:t.writable)!==!1))}function Yh(e){return!!(e&&typeof e.pipe=="function"&&e._readableState&&typeof e.on=="function"&&typeof e.write=="function")}function Ie(e){return e&&(e._readableState||e._writableState||typeof e.write=="function"&&typeof e.on=="function"||typeof e.pipe=="function"&&typeof e.on=="function")}function Qs(e){return!!(e&&!Ie(e)&&typeof e.pipeThrough=="function"&&typeof e.getReader=="function"&&typeof e.cancel=="function")}function Ks(e){return!!(e&&!Ie(e)&&typeof e.getWriter=="function"&&typeof e.abort=="function")}function Js(e){return!!(e&&!Ie(e)&&typeof e.readable=="object"&&typeof e.writable=="object")}function Qh(e){return Qs(e)||Ks(e)||Js(e)}function Kh(e,t){return e==null?!1:t===!0?typeof e[zs]=="function":t===!1?typeof e[Hs]=="function":typeof e[zs]=="function"||typeof e[Hs]=="function"}function wn(e){if(!Ie(e))return null;let t=e._writableState,r=e._readableState,n=t||r;return!!(e.destroyed||e[Vs]||n!=null&&n.destroyed)}function Xs(e){if(!gn(e))return null;if(e.writableEnded===!0)return!0;let t=e._writableState;return t!=null&&t.errored?!1:typeof(t==null?void 0:t.ended)!="boolean"?null:t.ended}function Jh(e,t){if(!gn(e))return null;if(e.writableFinished===!0)return!0;let r=e._writableState;return r!=null&&r.errored?!1:typeof(r==null?void 0:r.finished)!="boolean"?null:!!(r.finished||t===!1&&r.ended===!0&&r.length===0)}function Xh(e){if(!yn(e))return null;if(e.readableEnded===!0)return!0;let t=e._readableState;return!t||t.errored?!1:typeof(t==null?void 0:t.ended)!="boolean"?null:t.ended}function Zs(e,t){if(!yn(e))return null;let r=e._readableState;return r!=null&&r.errored?!1:typeof(r==null?void 0:r.endEmitted)!="boolean"?null:!!(r.endEmitted||t===!1&&r.ended===!0&&r.length===0)}function el(e){return e&&e[$i]!=null?e[$i]:typeof(e==null?void 0:e.readable)!="boolean"?null:wn(e)?!1:yn(e)&&e.readable&&!Zs(e)}function tl(e){return e&&e[zi]!=null?e[zi]:typeof(e==null?void 0:e.writable)!="boolean"?null:wn(e)?!1:gn(e)&&e.writable&&!Xs(e)}function Zh(e,t){return Ie(e)?wn(e)?!0:!((t==null?void 0:t.readable)!==!1&&el(e)||(t==null?void 0:t.writable)!==!1&&tl(e)):null}function ep(e){var t,r;return Ie(e)?e.writableErrored?e.writableErrored:(t=(r=e._writableState)===null||r===void 0?void 0:r.errored)!==null&&t!==void 0?t:null:null}function tp(e){var t,r;return Ie(e)?e.readableErrored?e.readableErrored:(t=(r=e._readableState)===null||r===void 0?void 0:r.errored)!==null&&t!==void 0?t:null:null}function rp(e){if(!Ie(e))return null;if(typeof e.closed=="boolean")return e.closed;let t=e._writableState,r=e._readableState;return typeof(t==null?void 0:t.closed)=="boolean"||typeof(r==null?void 0:r.closed)=="boolean"?(t==null?void 0:t.closed)||(r==null?void 0:r.closed):typeof e._closed=="boolean"&&rl(e)?e._closed:null}function rl(e){return typeof e._closed=="boolean"&&typeof e._defaultKeepAlive=="boolean"&&typeof e._removedConnection=="boolean"&&typeof e._removedContLen=="boolean"}function nl(e){return typeof e._sent100=="boolean"&&rl(e)}function np(e){var t;return typeof e._consuming=="boolean"&&typeof e._dumped=="boolean"&&((t=e.req)===null||t===void 0?void 0:t.upgradeOrConnect)===void 0}function ip(e){if(!Ie(e))return null;let t=e._writableState,r=e._readableState,n=t||r;return!n&&nl(e)||!!(n&&n.autoDestroy&&n.emitClose&&n.closed===!1)}function op(e){var t;return!!(e&&((t=e[Ys])!==null&&t!==void 0?t:e.readableDidRead||e.readableAborted))}function ap(e){var t,r,n,i,o,a,s,l,u,d;return!!(e&&((t=(r=(n=(i=(o=(a=e[Gs])!==null&&a!==void 0?a:e.readableErrored)!==null&&o!==void 0?o:e.writableErrored)!==null&&i!==void 0?i:(s=e._readableState)===null||s===void 0?void 0:s.errorEmitted)!==null&&n!==void 0?n:(l=e._writableState)===null||l===void 0?void 0:l.errorEmitted)!==null&&r!==void 0?r:(u=e._readableState)===null||u===void 0?void 0:u.errored)!==null&&t!==void 0?t:(d=e._writableState)===null||d===void 0?void 0:d.errored))}il.exports={isDestroyed:wn,kIsDestroyed:Vs,isDisturbed:op,kIsDisturbed:Ys,isErrored:ap,kIsErrored:Gs,isReadable:el,kIsReadable:$i,kIsClosedPromise:Vh,kControllerErrorFunction:Gh,kIsWritable:zi,isClosed:rp,isDuplexNodeStream:Yh,isFinished:Zh,isIterable:Kh,isReadableNodeStream:yn,isReadableStream:Qs,isReadableEnded:Xh,isReadableFinished:Zs,isReadableErrored:tp,isNodeStream:Ie,isWebStream:Qh,isWritable:tl,isWritableNodeStream:gn,isWritableStream:Ks,isWritableEnded:Xs,isWritableFinished:Jh,isWritableErrored:ep,isServerRequest:np,isServerResponse:nl,willEmitClose:ip,isTransformStream:Js}});var je=O((om,Qi)=>{var et=Ze(),{AbortError:ol,codes:sp}=ne(),{ERR_INVALID_ARG_TYPE:lp,ERR_STREAM_PREMATURE_CLOSE:al}=sp,{kEmptyObject:Hi,once:Vi}=Z(),{validateAbortSignal:up,validateFunction:fp,validateObject:dp,validateBoolean:cp}=ar(),{Promise:hp,PromisePrototypeThen:pp,SymbolDispose:sl}=$(),{isClosed:bp,isReadable:ll,isReadableNodeStream:Gi,isReadableStream:yp,isReadableFinished:ul,isReadableErrored:fl,isWritable:dl,isWritableNodeStream:cl,isWritableStream:gp,isWritableFinished:hl,isWritableErrored:pl,isNodeStream:wp,willEmitClose:_p,kIsClosedPromise:mp}=Be(),sr;function Sp(e){return e.setHeader&&typeof e.abort=="function"}var Yi=()=>{};function bl(e,t,r){var n,i;if(arguments.length===2?(r=t,t=Hi):t==null?t=Hi:dp(t,"options"),fp(r,"callback"),up(t.signal,"options.signal"),r=Vi(r),yp(e)||gp(e))return Ep(e,t,r);if(!wp(e))throw new lp("stream",["ReadableStream","WritableStream","Stream"],e);let o=(n=t.readable)!==null&&n!==void 0?n:Gi(e),a=(i=t.writable)!==null&&i!==void 0?i:cl(e),s=e._writableState,l=e._readableState,u=()=>{e.writable||w()},d=_p(e)&&Gi(e)===o&&cl(e)===a,c=hl(e,!1),w=()=>{c=!0,e.destroyed&&(d=!1),!(d&&(!e.readable||o))&&(!o||b)&&r.call(e)},b=ul(e,!1),C=()=>{b=!0,e.destroyed&&(d=!1),!(d&&(!e.writable||a))&&(!a||c)&&r.call(e)},y=g=>{r.call(e,g)},v=bp(e),S=()=>{v=!0;let g=pl(e)||fl(e);if(g&&typeof g!="boolean")return r.call(e,g);if(o&&!b&&Gi(e,!0)&&!ul(e,!1))return r.call(e,new al);if(a&&!c&&!hl(e,!1))return r.call(e,new al);r.call(e)},P=()=>{v=!0;let g=pl(e)||fl(e);if(g&&typeof g!="boolean")return r.call(e,g);r.call(e)},x=()=>{e.req.on("finish",w)};Sp(e)?(e.on("complete",w),d||e.on("abort",S),e.req?x():e.on("request",x)):a&&!s&&(e.on("end",u),e.on("close",u)),!d&&typeof e.aborted=="boolean"&&e.on("aborted",S),e.on("end",C),e.on("finish",w),t.error!==!1&&e.on("error",y),e.on("close",S),v?et.nextTick(S):s!=null&&s.errorEmitted||l!=null&&l.errorEmitted?d||et.nextTick(P):(!o&&(!d||ll(e))&&(c||dl(e)===!1)||!a&&(!d||dl(e))&&(b||ll(e)===!1)||l&&e.req&&e.aborted)&&et.nextTick(P);let R=()=>{r=Yi,e.removeListener("aborted",S),e.removeListener("complete",w),e.removeListener("abort",S),e.removeListener("request",x),e.req&&e.req.removeListener("finish",w),e.removeListener("end",u),e.removeListener("close",u),e.removeListener("finish",w),e.removeListener("end",C),e.removeListener("error",y),e.removeListener("close",S)};if(t.signal&&!v){let g=()=>{let A=r;R(),A.call(e,new ol(void 0,{cause:t.signal.reason}))};if(t.signal.aborted)et.nextTick(g);else{sr=sr||Z().addAbortListener;let A=sr(t.signal,g),I=r;r=Vi((...H)=>{A[sl](),I.apply(e,H)})}}return R}function Ep(e,t,r){let n=!1,i=Yi;if(t.signal)if(i=()=>{n=!0,r.call(e,new ol(void 0,{cause:t.signal.reason}))},t.signal.aborted)et.nextTick(i);else{sr=sr||Z().addAbortListener;let a=sr(t.signal,i),s=r;r=Vi((...l)=>{a[sl](),s.apply(e,l)})}let o=(...a)=>{n||et.nextTick(()=>r.apply(e,a))};return pp(e[mp].promise,o,o),Yi}function Rp(e,t){var r;let n=!1;return t===null&&(t=Hi),(r=t)!==null&&r!==void 0&&r.cleanup&&(cp(t.cleanup,"cleanup"),n=t.cleanup),new hp((i,o)=>{let a=bl(e,t,s=>{n&&a(),s?o(s):i()})})}Qi.exports=bl,Qi.exports.finished=Rp});var Tt=O((am,Rl)=>{"use strict";var xe=Ze(),{aggregateTwoErrors:Tp,codes:{ERR_MULTIPLE_CALLBACK:Ap},AbortError:Cp}=ne(),{Symbol:yl}=$(),{kIsDestroyed:Pp,isDestroyed:vp,isFinished:Ip,isServerRequest:Bp}=Be(),gl=yl("kDestroy"),Ki=yl("kConstruct");function wl(e,t,r){e&&(e.stack,t&&!t.errored&&(t.errored=e),r&&!r.errored&&(r.errored=e))}function xp(e,t){let r=this._readableState,n=this._writableState,i=n||r;return n!=null&&n.destroyed||r!=null&&r.destroyed?(typeof t=="function"&&t(),this):(wl(e,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),i.constructed?_l(this,e,t):this.once(gl,function(o){_l(this,Tp(o,e),t)}),this)}function _l(e,t,r){let n=!1;function i(o){if(n)return;n=!0;let a=e._readableState,s=e._writableState;wl(o,s,a),s&&(s.closed=!0),a&&(a.closed=!0),typeof r=="function"&&r(o),o?xe.nextTick(kp,e,o):xe.nextTick(ml,e)}try{e._destroy(t||null,i)}catch(o){i(o)}}function kp(e,t){Ji(e,t),ml(e)}function ml(e){let t=e._readableState,r=e._writableState;r&&(r.closeEmitted=!0),t&&(t.closeEmitted=!0),(r!=null&&r.emitClose||t!=null&&t.emitClose)&&e.emit("close")}function Ji(e,t){let r=e._readableState,n=e._writableState;n!=null&&n.errorEmitted||r!=null&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),e.emit("error",t))}function Op(){let e=this._readableState,t=this._writableState;e&&(e.constructed=!0,e.closed=!1,e.closeEmitted=!1,e.destroyed=!1,e.errored=null,e.errorEmitted=!1,e.reading=!1,e.ended=e.readable===!1,e.endEmitted=e.readable===!1),t&&(t.constructed=!0,t.destroyed=!1,t.closed=!1,t.closeEmitted=!1,t.errored=null,t.errorEmitted=!1,t.finalCalled=!1,t.prefinished=!1,t.ended=t.writable===!1,t.ending=t.writable===!1,t.finished=t.writable===!1)}function Xi(e,t,r){let n=e._readableState,i=e._writableState;if(i!=null&&i.destroyed||n!=null&&n.destroyed)return this;n!=null&&n.autoDestroy||i!=null&&i.autoDestroy?e.destroy(t):t&&(t.stack,i&&!i.errored&&(i.errored=t),n&&!n.errored&&(n.errored=t),r?xe.nextTick(Ji,e,t):Ji(e,t))}function qp(e,t){if(typeof e._construct!="function")return;let r=e._readableState,n=e._writableState;r&&(r.constructed=!1),n&&(n.constructed=!1),e.once(Ki,t),!(e.listenerCount(Ki)>1)&&xe.nextTick(Wp,e)}function Wp(e){let t=!1;function r(n){if(t){Xi(e,n??new Ap);return}t=!0;let i=e._readableState,o=e._writableState,a=o||i;i&&(i.constructed=!0),o&&(o.constructed=!0),a.destroyed?e.emit(gl,n):n?Xi(e,n,!0):xe.nextTick(Lp,e)}try{e._construct(n=>{xe.nextTick(r,n)})}catch(n){xe.nextTick(r,n)}}function Lp(e){e.emit(Ki)}function Sl(e){return(e==null?void 0:e.setHeader)&&typeof e.abort=="function"}function El(e){e.emit("close")}function Fp(e,t){e.emit("error",t),xe.nextTick(El,e)}function Np(e,t){!e||vp(e)||(!t&&!Ip(e)&&(t=new Cp),Bp(e)?(e.socket=null,e.destroy(t)):Sl(e)?e.abort():Sl(e.req)?e.req.abort():typeof e.destroy=="function"?e.destroy(t):typeof e.close=="function"?e.close():t?xe.nextTick(Fp,e,t):xe.nextTick(El,e),e.destroyed||(e[Pp]=!0))}Rl.exports={construct:qp,destroyer:Np,destroy:xp,undestroy:Op,errorOrDestroy:Xi}});var Sn=O((sm,Al)=>{"use strict";var{ArrayIsArray:Dp,ObjectSetPrototypeOf:Tl}=$(),{EventEmitter:_n}=Or();function mn(e){_n.call(this,e)}Tl(mn.prototype,_n.prototype),Tl(mn,_n),mn.prototype.pipe=function(e,t){let r=this;function n(d){e.writable&&e.write(d)===!1&&r.pause&&r.pause()}r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}e.on("drain",i),!e._isStdio&&(!t||t.end!==!1)&&(r.on("end",a),r.on("close",s));let o=!1;function a(){o||(o=!0,e.end())}function s(){o||(o=!0,typeof e.destroy=="function"&&e.destroy())}function l(d){u(),_n.listenerCount(this,"error")===0&&this.emit("error",d)}Zi(r,"error",l),Zi(e,"error",l);function u(){r.removeListener("data",n),e.removeListener("drain",i),r.removeListener("end",a),r.removeListener("close",s),r.removeListener("error",l),e.removeListener("error",l),r.removeListener("end",u),r.removeListener("close",u),e.removeListener("close",u)}return r.on("end",u),r.on("close",u),e.on("close",u),e.emit("pipe",r),e};function Zi(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):Dp(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}Al.exports={Stream:mn,prependListener:Zi}});var qr=O((lm,En)=>{"use strict";var{SymbolDispose:Mp}=$(),{AbortError:Cl,codes:jp}=ne(),{isNodeStream:Pl,isWebStream:Up,kControllerErrorFunction:$p}=Be(),zp=je(),{ERR_INVALID_ARG_TYPE:vl}=jp,eo,Hp=(e,t)=>{if(typeof e!="object"||!("aborted"in e))throw new vl(t,"AbortSignal",e)};En.exports.addAbortSignal=function(t,r){if(Hp(t,"signal"),!Pl(r)&&!Up(r))throw new vl("stream",["ReadableStream","WritableStream","Stream"],r);return En.exports.addAbortSignalNoValidate(t,r)},En.exports.addAbortSignalNoValidate=function(e,t){if(typeof e!="object"||!("aborted"in e))return t;let r=Pl(t)?()=>{t.destroy(new Cl(void 0,{cause:e.reason}))}:()=>{t[$p](new Cl(void 0,{cause:e.reason}))};if(e.aborted)r();else{eo=eo||Z().addAbortListener;let n=eo(e,r);zp(t,n[Mp])}return t}});var xl=O((fm,Bl)=>{"use strict";var{StringPrototypeSlice:Il,SymbolIterator:Vp,TypedArrayPrototypeSet:Rn,Uint8Array:Gp}=$(),{Buffer:to}=Me(),{inspect:Yp}=Z();Bl.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(t){let r={data:t,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(t){let r={data:t,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;let t=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,t}clear(){this.head=this.tail=null,this.length=0}join(t){if(this.length===0)return"";let r=this.head,n=""+r.data;for(;(r=r.next)!==null;)n+=t+r.data;return n}concat(t){if(this.length===0)return to.alloc(0);let r=to.allocUnsafe(t>>>0),n=this.head,i=0;for(;n;)Rn(r,n.data,i),i+=n.data.length,n=n.next;return r}consume(t,r){let n=this.head.data;if(t<n.length){let i=n.slice(0,t);return this.head.data=n.slice(t),i}return t===n.length?this.shift():r?this._getString(t):this._getBuffer(t)}first(){return this.head.data}*[Vp](){for(let t=this.head;t;t=t.next)yield t.data}_getString(t){let r="",n=this.head,i=0;do{let o=n.data;if(t>o.length)r+=o,t-=o.length;else{t===o.length?(r+=o,++i,n.next?this.head=n.next:this.head=this.tail=null):(r+=Il(o,0,t),this.head=n,n.data=Il(o,t));break}++i}while((n=n.next)!==null);return this.length-=i,r}_getBuffer(t){let r=to.allocUnsafe(t),n=t,i=this.head,o=0;do{let a=i.data;if(t>a.length)Rn(r,a,n-t),t-=a.length;else{t===a.length?(Rn(r,a,n-t),++o,i.next?this.head=i.next:this.head=this.tail=null):(Rn(r,new Gp(a.buffer,a.byteOffset,t),n-t),this.head=i,i.data=a.slice(t));break}++o}while((i=i.next)!==null);return this.length-=o,r}[Symbol.for("nodejs.util.inspect.custom")](t,r){return Yp(this,{...r,depth:0,customInspect:!1})}}});var Wr=O((dm,Wl)=>{"use strict";var{MathFloor:Qp,NumberIsInteger:Kp}=$(),{validateInteger:Jp}=ar(),{ERR_INVALID_ARG_VALUE:Xp}=ne().codes,kl=16*1024,Ol=16;function Zp(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}function ql(e){return e?Ol:kl}function eb(e,t){Jp(t,"value",0),e?Ol=t:kl=t}function tb(e,t,r,n){let i=Zp(t,n,r);if(i!=null){if(!Kp(i)||i<0){let o=n?`options.${r}`:"options.highWaterMark";throw new Xp(o,i)}return Qp(i)}return ql(e.objectMode)}Wl.exports={getHighWaterMark:tb,getDefaultHighWaterMark:ql,setDefaultHighWaterMark:eb}});var Nl=O((ro,Fl)=>{var Tn=Me(),ke=Tn.Buffer;function Ll(e,t){for(var r in e)t[r]=e[r]}ke.from&&ke.alloc&&ke.allocUnsafe&&ke.allocUnsafeSlow?Fl.exports=Tn:(Ll(Tn,ro),ro.Buffer=At);function At(e,t,r){return ke(e,t,r)}At.prototype=Object.create(ke.prototype),Ll(ke,At),At.from=function(e,t,r){if(typeof e=="number")throw new TypeError("Argument must not be a number");return ke(e,t,r)},At.alloc=function(e,t,r){if(typeof e!="number")throw new TypeError("Argument must be a number");var n=ke(e);return t!==void 0?typeof r=="string"?n.fill(t,r):n.fill(t):n.fill(0),n},At.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return ke(e)},At.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return Tn.SlowBuffer(e)}});var jl=O(Ml=>{"use strict";var no=Nl().Buffer,Dl=no.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function rb(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function nb(e){var t=rb(e);if(typeof t!="string"&&(no.isEncoding===Dl||!Dl(e)))throw new Error("Unknown encoding: "+e);return t||e}Ml.StringDecoder=Lr;function Lr(e){this.encoding=nb(e);var t;switch(this.encoding){case"utf16le":this.text=ub,this.end=fb,t=4;break;case"utf8":this.fillLast=ab,t=4;break;case"base64":this.text=db,this.end=cb,t=3;break;default:this.write=hb,this.end=pb;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=no.allocUnsafe(t)}Lr.prototype.write=function(e){if(e.length===0)return"";var t,r;if(this.lastNeed){if(t=this.fillLast(e),t===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},Lr.prototype.end=lb,Lr.prototype.text=sb,Lr.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function io(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function ib(e,t,r){var n=t.length-1;if(n<r)return 0;var i=io(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||i===-2?0:(i=io(t[n]),i>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||i===-2?0:(i=io(t[n]),i>=0?(i>0&&(i===2?i=0:e.lastNeed=i-3),i):0))}function ob(e,t,r){if((t[0]&192)!==128)return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if((t[1]&192)!==128)return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&(t[2]&192)!==128)return e.lastNeed=2,"�"}}function ab(e){var t=this.lastTotal-this.lastNeed,r=ob(this,e,t);if(r!==void 0)return r;if(this.lastNeed<=e.length)return e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length}function sb(e,t){var r=ib(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)}function lb(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t}function ub(e,t){if((e.length-t)%2===0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function fb(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function db(e,t){var r=(e.length-t)%3;return r===0?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function cb(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function hb(e){return e.toString(this.encoding)}function pb(e){return e&&e.length?this.write(e):""}});var oo=O((hm,Hl)=>{"use strict";var Ul=Ze(),{PromisePrototypeThen:bb,SymbolAsyncIterator:$l,SymbolIterator:zl}=$(),{Buffer:yb}=Me(),{ERR_INVALID_ARG_TYPE:gb,ERR_STREAM_NULL_VALUES:wb}=ne().codes;function _b(e,t,r){let n;if(typeof t=="string"||t instanceof yb)return new e({objectMode:!0,...r,read(){this.push(t),this.push(null)}});let i;if(t&&t[$l])i=!0,n=t[$l]();else if(t&&t[zl])i=!1,n=t[zl]();else throw new gb("iterable",["Iterable"],t);let o=new e({objectMode:!0,highWaterMark:1,...r}),a=!1;o._read=function(){a||(a=!0,l())},o._destroy=function(u,d){bb(s(u),()=>Ul.nextTick(d,u),c=>Ul.nextTick(d,c||u))};async function s(u){let d=u!=null,c=typeof n.throw=="function";if(d&&c){let{value:w,done:b}=await n.throw(u);if(await w,b)return}if(typeof n.return=="function"){let{value:w}=await n.return();await w}}async function l(){for(;;){try{let{value:u,done:d}=i?await n.next():n.next();if(d)o.push(null);else{let c=u&&typeof u.then=="function"?await u:u;if(c===null)throw a=!1,new wb;if(o.push(c))continue;a=!1}}catch(u){o.destroy(u)}break}}return o}Hl.exports=_b});var Nr=O((pm,uu)=>{var me=Ze(),{ArrayPrototypeIndexOf:mb,NumberIsInteger:Sb,NumberIsNaN:Eb,NumberParseInt:Rb,ObjectDefineProperties:ao,ObjectKeys:Tb,ObjectSetPrototypeOf:Vl,Promise:Gl,SafeSet:Ab,SymbolAsyncDispose:Cb,SymbolAsyncIterator:Pb,Symbol:vb}=$();uu.exports=B,B.ReadableState=Pn;var{EventEmitter:Ib}=Or(),{Stream:tt,prependListener:Bb}=Sn(),{Buffer:so}=Me(),{addAbortSignal:xb}=qr(),Yl=je(),k=Z().debuglog("stream",e=>{k=e}),kb=xl(),lr=Tt(),{getHighWaterMark:Ob,getDefaultHighWaterMark:qb}=Wr(),{aggregateTwoErrors:Ql,codes:{ERR_INVALID_ARG_TYPE:Wb,ERR_METHOD_NOT_IMPLEMENTED:Lb,ERR_OUT_OF_RANGE:Fb,ERR_STREAM_PUSH_AFTER_EOF:Nb,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:Db},AbortError:Mb}=ne(),{validateObject:jb}=ar(),Ct=vb("kPaused"),{StringDecoder:Kl}=jl(),Ub=oo();Vl(B.prototype,tt.prototype),Vl(B,tt);var lo=()=>{},{errorOrDestroy:ur}=lr,fr=1<<0,$b=1<<1,Jl=1<<2,Fr=1<<3,Xl=1<<4,An=1<<5,Cn=1<<6,Zl=1<<7,zb=1<<8,Hb=1<<9,Vb=1<<10,uo=1<<11,fo=1<<12,Gb=1<<13,Yb=1<<14,Qb=1<<15,eu=1<<16,Kb=1<<17,Jb=1<<18;function G(e){return{enumerable:!1,get(){return(this.state&e)!==0},set(t){t?this.state|=e:this.state&=~e}}}ao(Pn.prototype,{objectMode:G(fr),ended:G($b),endEmitted:G(Jl),reading:G(Fr),constructed:G(Xl),sync:G(An),needReadable:G(Cn),emittedReadable:G(Zl),readableListening:G(zb),resumeScheduled:G(Hb),errorEmitted:G(Vb),emitClose:G(uo),autoDestroy:G(fo),destroyed:G(Gb),closed:G(Yb),closeEmitted:G(Qb),multiAwaitDrain:G(eu),readingMore:G(Kb),dataEmitted:G(Jb)});function Pn(e,t,r){typeof r!="boolean"&&(r=t instanceof Oe()),this.state=uo|fo|Xl|An,e&&e.objectMode&&(this.state|=fr),r&&e&&e.readableObjectMode&&(this.state|=fr),this.highWaterMark=e?Ob(this,e,"readableHighWaterMark",r):qb(!1),this.buffer=new kb,this.length=0,this.pipes=[],this.flowing=null,this[Ct]=null,e&&e.emitClose===!1&&(this.state&=~uo),e&&e.autoDestroy===!1&&(this.state&=~fo),this.errored=null,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,e&&e.encoding&&(this.decoder=new Kl(e.encoding),this.encoding=e.encoding)}function B(e){if(!(this instanceof B))return new B(e);let t=this instanceof Oe();this._readableState=new Pn(e,this,t),e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy),typeof e.construct=="function"&&(this._construct=e.construct),e.signal&&!t&&xb(e.signal,this)),tt.call(this,e),lr.construct(this,()=>{this._readableState.needReadable&&In(this,this._readableState)})}B.prototype.destroy=lr.destroy,B.prototype._undestroy=lr.undestroy,B.prototype._destroy=function(e,t){t(e)},B.prototype[Ib.captureRejectionSymbol]=function(e){this.destroy(e)},B.prototype[Cb]=function(){let e;return this.destroyed||(e=this.readableEnded?null:new Mb,this.destroy(e)),new Gl((t,r)=>Yl(this,n=>n&&n!==e?r(n):t(null)))},B.prototype.push=function(e,t){return tu(this,e,t,!1)},B.prototype.unshift=function(e,t){return tu(this,e,t,!0)};function tu(e,t,r,n){k("readableAddChunk",t);let i=e._readableState,o;if((i.state&fr)===0&&(typeof t=="string"?(r=r||i.defaultEncoding,i.encoding!==r&&(n&&i.encoding?t=so.from(t,r).toString(i.encoding):(t=so.from(t,r),r=""))):t instanceof so?r="":tt._isUint8Array(t)?(t=tt._uint8ArrayToBuffer(t),r=""):t!=null&&(o=new Wb("chunk",["string","Buffer","Uint8Array"],t))),o)ur(e,o);else if(t===null)i.state&=~Fr,ey(e,i);else if((i.state&fr)!==0||t&&t.length>0)if(n)if((i.state&Jl)!==0)ur(e,new Db);else{if(i.destroyed||i.errored)return!1;co(e,i,t,!0)}else if(i.ended)ur(e,new Nb);else{if(i.destroyed||i.errored)return!1;i.state&=~Fr,i.decoder&&!r?(t=i.decoder.write(t),i.objectMode||t.length!==0?co(e,i,t,!1):In(e,i)):co(e,i,t,!1)}else n||(i.state&=~Fr,In(e,i));return!i.ended&&(i.length<i.highWaterMark||i.length===0)}function co(e,t,r,n){t.flowing&&t.length===0&&!t.sync&&e.listenerCount("data")>0?((t.state&eu)!==0?t.awaitDrainWriters.clear():t.awaitDrainWriters=null,t.dataEmitted=!0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),(t.state&Cn)!==0&&vn(e)),In(e,t)}B.prototype.isPaused=function(){let e=this._readableState;return e[Ct]===!0||e.flowing===!1},B.prototype.setEncoding=function(e){let t=new Kl(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;let r=this._readableState.buffer,n="";for(let i of r)n+=t.write(i);return r.clear(),n!==""&&r.push(n),this._readableState.length=n.length,this};var Xb=1073741824;function Zb(e){if(e>Xb)throw new Fb("size","<= 1GiB",e);return e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++,e}function ru(e,t){return e<=0||t.length===0&&t.ended?0:(t.state&fr)!==0?1:Eb(e)?t.flowing&&t.length?t.buffer.first().length:t.length:e<=t.length?e:t.ended?t.length:0}B.prototype.read=function(e){k("read",e),e===void 0?e=NaN:Sb(e)||(e=Rb(e,10));let t=this._readableState,r=e;if(e>t.highWaterMark&&(t.highWaterMark=Zb(e)),e!==0&&(t.state&=~Zl),e===0&&t.needReadable&&((t.highWaterMark!==0?t.length>=t.highWaterMark:t.length>0)||t.ended))return k("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?ho(this):vn(this),null;if(e=ru(e,t),e===0&&t.ended)return t.length===0&&ho(this),null;let n=(t.state&Cn)!==0;if(k("need readable",n),(t.length===0||t.length-e<t.highWaterMark)&&(n=!0,k("length less than watermark",n)),t.ended||t.reading||t.destroyed||t.errored||!t.constructed)n=!1,k("reading, ended or constructing",n);else if(n){k("do read"),t.state|=Fr|An,t.length===0&&(t.state|=Cn);try{this._read(t.highWaterMark)}catch(o){ur(this,o)}t.state&=~An,t.reading||(e=ru(r,t))}let i;return e>0?i=su(e,t):i=null,i===null?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.multiAwaitDrain?t.awaitDrainWriters.clear():t.awaitDrainWriters=null),t.length===0&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&ho(this)),i!==null&&!t.errorEmitted&&!t.closeEmitted&&(t.dataEmitted=!0,this.emit("data",i)),i};function ey(e,t){if(k("onEofChunk"),!t.ended){if(t.decoder){let r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?vn(e):(t.needReadable=!1,t.emittedReadable=!0,nu(e))}}function vn(e){let t=e._readableState;k("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(k("emitReadable",t.flowing),t.emittedReadable=!0,me.nextTick(nu,e))}function nu(e){let t=e._readableState;k("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&!t.errored&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,ou(e)}function In(e,t){!t.readingMore&&t.constructed&&(t.readingMore=!0,me.nextTick(ty,e,t))}function ty(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&t.length===0);){let r=t.length;if(k("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}B.prototype._read=function(e){throw new Lb("_read()")},B.prototype.pipe=function(e,t){let r=this,n=this._readableState;n.pipes.length===1&&(n.multiAwaitDrain||(n.multiAwaitDrain=!0,n.awaitDrainWriters=new Ab(n.awaitDrainWriters?[n.awaitDrainWriters]:[]))),n.pipes.push(e),k("pipe count=%d opts=%j",n.pipes.length,t);let o=(!t||t.end!==!1)&&e!==me.stdout&&e!==me.stderr?s:v;n.endEmitted?me.nextTick(o):r.once("end",o),e.on("unpipe",a);function a(S,P){k("onunpipe"),S===r&&P&&P.hasUnpiped===!1&&(P.hasUnpiped=!0,d())}function s(){k("onend"),e.end()}let l,u=!1;function d(){k("cleanup"),e.removeListener("close",C),e.removeListener("finish",y),l&&e.removeListener("drain",l),e.removeListener("error",b),e.removeListener("unpipe",a),r.removeListener("end",s),r.removeListener("end",v),r.removeListener("data",w),u=!0,l&&n.awaitDrainWriters&&(!e._writableState||e._writableState.needDrain)&&l()}function c(){u||(n.pipes.length===1&&n.pipes[0]===e?(k("false write response, pause",0),n.awaitDrainWriters=e,n.multiAwaitDrain=!1):n.pipes.length>1&&n.pipes.includes(e)&&(k("false write response, pause",n.awaitDrainWriters.size),n.awaitDrainWriters.add(e)),r.pause()),l||(l=ry(r,e),e.on("drain",l))}r.on("data",w);function w(S){k("ondata");let P=e.write(S);k("dest.write",P),P===!1&&c()}function b(S){if(k("onerror",S),v(),e.removeListener("error",b),e.listenerCount("error")===0){let P=e._writableState||e._readableState;P&&!P.errorEmitted?ur(e,S):e.emit("error",S)}}Bb(e,"error",b);function C(){e.removeListener("finish",y),v()}e.once("close",C);function y(){k("onfinish"),e.removeListener("close",C),v()}e.once("finish",y);function v(){k("unpipe"),r.unpipe(e)}return e.emit("pipe",r),e.writableNeedDrain===!0?c():n.flowing||(k("pipe resume"),r.resume()),e};function ry(e,t){return function(){let n=e._readableState;n.awaitDrainWriters===t?(k("pipeOnDrain",1),n.awaitDrainWriters=null):n.multiAwaitDrain&&(k("pipeOnDrain",n.awaitDrainWriters.size),n.awaitDrainWriters.delete(t)),(!n.awaitDrainWriters||n.awaitDrainWriters.size===0)&&e.listenerCount("data")&&e.resume()}}B.prototype.unpipe=function(e){let t=this._readableState,r={hasUnpiped:!1};if(t.pipes.length===0)return this;if(!e){let i=t.pipes;t.pipes=[],this.pause();for(let o=0;o<i.length;o++)i[o].emit("unpipe",this,{hasUnpiped:!1});return this}let n=mb(t.pipes,e);return n===-1?this:(t.pipes.splice(n,1),t.pipes.length===0&&this.pause(),e.emit("unpipe",this,r),this)},B.prototype.on=function(e,t){let r=tt.prototype.on.call(this,e,t),n=this._readableState;return e==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):e==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,k("on readable",n.length,n.reading),n.length?vn(this):n.reading||me.nextTick(ny,this)),r},B.prototype.addListener=B.prototype.on,B.prototype.removeListener=function(e,t){let r=tt.prototype.removeListener.call(this,e,t);return e==="readable"&&me.nextTick(iu,this),r},B.prototype.off=B.prototype.removeListener,B.prototype.removeAllListeners=function(e){let t=tt.prototype.removeAllListeners.apply(this,arguments);return(e==="readable"||e===void 0)&&me.nextTick(iu,this),t};function iu(e){let t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&t[Ct]===!1?t.flowing=!0:e.listenerCount("data")>0?e.resume():t.readableListening||(t.flowing=null)}function ny(e){k("readable nexttick read 0"),e.read(0)}B.prototype.resume=function(){let e=this._readableState;return e.flowing||(k("resume"),e.flowing=!e.readableListening,iy(this,e)),e[Ct]=!1,this};function iy(e,t){t.resumeScheduled||(t.resumeScheduled=!0,me.nextTick(oy,e,t))}function oy(e,t){k("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),ou(e),t.flowing&&!t.reading&&e.read(0)}B.prototype.pause=function(){return k("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(k("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[Ct]=!0,this};function ou(e){let t=e._readableState;for(k("flow",t.flowing);t.flowing&&e.read()!==null;);}B.prototype.wrap=function(e){let t=!1;e.on("data",n=>{!this.push(n)&&e.pause&&(t=!0,e.pause())}),e.on("end",()=>{this.push(null)}),e.on("error",n=>{ur(this,n)}),e.on("close",()=>{this.destroy()}),e.on("destroy",()=>{this.destroy()}),this._read=()=>{t&&e.resume&&(t=!1,e.resume())};let r=Tb(e);for(let n=1;n<r.length;n++){let i=r[n];this[i]===void 0&&typeof e[i]=="function"&&(this[i]=e[i].bind(e))}return this},B.prototype[Pb]=function(){return au(this)},B.prototype.iterator=function(e){return e!==void 0&&jb(e,"options"),au(this,e)};function au(e,t){typeof e.read!="function"&&(e=B.wrap(e,{objectMode:!0}));let r=ay(e,t);return r.stream=e,r}async function*ay(e,t){let r=lo;function n(a){this===e?(r(),r=lo):r=a}e.on("readable",n);let i,o=Yl(e,{writable:!1},a=>{i=a?Ql(i,a):null,r(),r=lo});try{for(;;){let a=e.destroyed?null:e.read();if(a!==null)yield a;else{if(i)throw i;if(i===null)return;await new Gl(n)}}}catch(a){throw i=Ql(i,a),i}finally{(i||(t==null?void 0:t.destroyOnReturn)!==!1)&&(i===void 0||e._readableState.autoDestroy)?lr.destroyer(e,null):(e.off("readable",n),o())}}ao(B.prototype,{readable:{__proto__:null,get(){let e=this._readableState;return!!e&&e.readable!==!1&&!e.destroyed&&!e.errorEmitted&&!e.endEmitted},set(e){this._readableState&&(this._readableState.readable=!!e)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(e){!this._readableState||(this._readableState.destroyed=e)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),ao(Pn.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[Ct]!==!1},set(e){this[Ct]=!!e}}}),B._fromList=su;function su(e,t){if(t.length===0)return null;let r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(t.decoder?r=t.buffer.join(""):t.buffer.length===1?r=t.buffer.first():r=t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r}function ho(e){let t=e._readableState;k("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,me.nextTick(sy,t,e))}function sy(e,t){if(k("endReadableNT",e.endEmitted,e.length),!e.errored&&!e.closeEmitted&&!e.endEmitted&&e.length===0){if(e.endEmitted=!0,t.emit("end"),t.writable&&t.allowHalfOpen===!1)me.nextTick(ly,t);else if(e.autoDestroy){let r=t._writableState;(!r||r.autoDestroy&&(r.finished||r.writable===!1))&&t.destroy()}}}function ly(e){e.writable&&!e.writableEnded&&!e.destroyed&&e.end()}B.from=function(e,t){return Ub(B,e,t)};var po;function lu(){return po===void 0&&(po={}),po}B.fromWeb=function(e,t){return lu().newStreamReadableFromReadableStream(e,t)},B.toWeb=function(e,t){return lu().newReadableStreamFromStreamReadable(e,t)},B.wrap=function(e,t){var r,n;return new B({objectMode:(r=(n=e.readableObjectMode)!==null&&n!==void 0?n:e.objectMode)!==null&&r!==void 0?r:!0,...t,destroy(i,o){lr.destroyer(e,i),o(i)}}).wrap(e)}});var qn=O((bm,Su)=>{var Pt=Ze(),{ArrayPrototypeSlice:fu,Error:uy,FunctionPrototypeSymbolHasInstance:du,ObjectDefineProperty:cu,ObjectDefineProperties:fy,ObjectSetPrototypeOf:hu,StringPrototypeToLowerCase:dy,Symbol:cy,SymbolHasInstance:hy}=$();Su.exports=z,z.WritableState=jr;var{EventEmitter:py}=Or(),Dr=Sn().Stream,{Buffer:Bn}=Me(),xn=Tt(),{addAbortSignal:by}=qr(),{getHighWaterMark:yy,getDefaultHighWaterMark:gy}=Wr(),{ERR_INVALID_ARG_TYPE:wy,ERR_METHOD_NOT_IMPLEMENTED:_y,ERR_MULTIPLE_CALLBACK:pu,ERR_STREAM_CANNOT_PIPE:my,ERR_STREAM_DESTROYED:Mr,ERR_STREAM_ALREADY_FINISHED:Sy,ERR_STREAM_NULL_VALUES:Ey,ERR_STREAM_WRITE_AFTER_END:Ry,ERR_UNKNOWN_ENCODING:bu}=ne().codes,{errorOrDestroy:dr}=xn;hu(z.prototype,Dr.prototype),hu(z,Dr);function bo(){}var cr=cy("kOnFinished");function jr(e,t,r){typeof r!="boolean"&&(r=t instanceof Oe()),this.objectMode=!!(e&&e.objectMode),r&&(this.objectMode=this.objectMode||!!(e&&e.writableObjectMode)),this.highWaterMark=e?yy(this,e,"writableHighWaterMark",r):gy(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let n=!!(e&&e.decodeStrings===!1);this.decodeStrings=!n,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=Ay.bind(void 0,t),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,kn(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!e||e.emitClose!==!1,this.autoDestroy=!e||e.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[cr]=[]}function kn(e){e.buffered=[],e.bufferedIndex=0,e.allBuffers=!0,e.allNoop=!0}jr.prototype.getBuffer=function(){return fu(this.buffered,this.bufferedIndex)},cu(jr.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function z(e){let t=this instanceof Oe();if(!t&&!du(z,this))return new z(e);this._writableState=new jr(e,this,t),e&&(typeof e.write=="function"&&(this._write=e.write),typeof e.writev=="function"&&(this._writev=e.writev),typeof e.destroy=="function"&&(this._destroy=e.destroy),typeof e.final=="function"&&(this._final=e.final),typeof e.construct=="function"&&(this._construct=e.construct),e.signal&&by(e.signal,this)),Dr.call(this,e),xn.construct(this,()=>{let r=this._writableState;r.writing||go(this,r),wo(this,r)})}cu(z,hy,{__proto__:null,value:function(e){return du(this,e)?!0:this!==z?!1:e&&e._writableState instanceof jr}}),z.prototype.pipe=function(){dr(this,new my)};function yu(e,t,r,n){let i=e._writableState;if(typeof r=="function")n=r,r=i.defaultEncoding;else{if(!r)r=i.defaultEncoding;else if(r!=="buffer"&&!Bn.isEncoding(r))throw new bu(r);typeof n!="function"&&(n=bo)}if(t===null)throw new Ey;if(!i.objectMode)if(typeof t=="string")i.decodeStrings!==!1&&(t=Bn.from(t,r),r="buffer");else if(t instanceof Bn)r="buffer";else if(Dr._isUint8Array(t))t=Dr._uint8ArrayToBuffer(t),r="buffer";else throw new wy("chunk",["string","Buffer","Uint8Array"],t);let o;return i.ending?o=new Ry:i.destroyed&&(o=new Mr("write")),o?(Pt.nextTick(n,o),dr(e,o,!0),o):(i.pendingcb++,Ty(e,i,t,r,n))}z.prototype.write=function(e,t,r){return yu(this,e,t,r)===!0},z.prototype.cork=function(){this._writableState.corked++},z.prototype.uncork=function(){let e=this._writableState;e.corked&&(e.corked--,e.writing||go(this,e))},z.prototype.setDefaultEncoding=function(t){if(typeof t=="string"&&(t=dy(t)),!Bn.isEncoding(t))throw new bu(t);return this._writableState.defaultEncoding=t,this};function Ty(e,t,r,n,i){let o=t.objectMode?1:r.length;t.length+=o;let a=t.length<t.highWaterMark;return a||(t.needDrain=!0),t.writing||t.corked||t.errored||!t.constructed?(t.buffered.push({chunk:r,encoding:n,callback:i}),t.allBuffers&&n!=="buffer"&&(t.allBuffers=!1),t.allNoop&&i!==bo&&(t.allNoop=!1)):(t.writelen=o,t.writecb=i,t.writing=!0,t.sync=!0,e._write(r,n,t.onwrite),t.sync=!1),a&&!t.errored&&!t.destroyed}function gu(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new Mr("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function wu(e,t,r,n){--t.pendingcb,n(r),yo(t),dr(e,r)}function Ay(e,t){let r=e._writableState,n=r.sync,i=r.writecb;if(typeof i!="function"){dr(e,new pu);return}r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,t?(t.stack,r.errored||(r.errored=t),e._readableState&&!e._readableState.errored&&(e._readableState.errored=t),n?Pt.nextTick(wu,e,r,t,i):wu(e,r,t,i)):(r.buffered.length>r.bufferedIndex&&go(e,r),n?r.afterWriteTickInfo!==null&&r.afterWriteTickInfo.cb===i?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:i,stream:e,state:r},Pt.nextTick(Cy,r.afterWriteTickInfo)):_u(e,r,1,i))}function Cy({stream:e,state:t,count:r,cb:n}){return t.afterWriteTickInfo=null,_u(e,t,r,n)}function _u(e,t,r,n){for(!t.ending&&!e.destroyed&&t.length===0&&t.needDrain&&(t.needDrain=!1,e.emit("drain"));r-- >0;)t.pendingcb--,n();t.destroyed&&yo(t),wo(e,t)}function yo(e){if(e.writing)return;for(let i=e.bufferedIndex;i<e.buffered.length;++i){var t;let{chunk:o,callback:a}=e.buffered[i],s=e.objectMode?1:o.length;e.length-=s,a((t=e.errored)!==null&&t!==void 0?t:new Mr("write"))}let r=e[cr].splice(0);for(let i=0;i<r.length;i++){var n;r[i]((n=e.errored)!==null&&n!==void 0?n:new Mr("end"))}kn(e)}function go(e,t){if(t.corked||t.bufferProcessing||t.destroyed||!t.constructed)return;let{buffered:r,bufferedIndex:n,objectMode:i}=t,o=r.length-n;if(!o)return;let a=n;if(t.bufferProcessing=!0,o>1&&e._writev){t.pendingcb-=o-1;let s=t.allNoop?bo:u=>{for(let d=a;d<r.length;++d)r[d].callback(u)},l=t.allNoop&&a===0?r:fu(r,a);l.allBuffers=t.allBuffers,gu(e,t,!0,t.length,l,"",s),kn(t)}else{do{let{chunk:s,encoding:l,callback:u}=r[a];r[a++]=null;let d=i?1:s.length;gu(e,t,!1,d,s,l,u)}while(a<r.length&&!t.writing);a===r.length?kn(t):a>256?(r.splice(0,a),t.bufferedIndex=0):t.bufferedIndex=a}t.bufferProcessing=!1}z.prototype._write=function(e,t,r){if(this._writev)this._writev([{chunk:e,encoding:t}],r);else throw new _y("_write()")},z.prototype._writev=null,z.prototype.end=function(e,t,r){let n=this._writableState;typeof e=="function"?(r=e,e=null,t=null):typeof t=="function"&&(r=t,t=null);let i;if(e!=null){let o=yu(this,e,t);o instanceof uy&&(i=o)}return n.corked&&(n.corked=1,this.uncork()),i||(!n.errored&&!n.ending?(n.ending=!0,wo(this,n,!0),n.ended=!0):n.finished?i=new Sy("end"):n.destroyed&&(i=new Mr("end"))),typeof r=="function"&&(i||n.finished?Pt.nextTick(r,i):n[cr].push(r)),this};function On(e){return e.ending&&!e.destroyed&&e.constructed&&e.length===0&&!e.errored&&e.buffered.length===0&&!e.finished&&!e.writing&&!e.errorEmitted&&!e.closeEmitted}function Py(e,t){let r=!1;function n(i){if(r){dr(e,i??pu());return}if(r=!0,t.pendingcb--,i){let o=t[cr].splice(0);for(let a=0;a<o.length;a++)o[a](i);dr(e,i,t.sync)}else On(t)&&(t.prefinished=!0,e.emit("prefinish"),t.pendingcb++,Pt.nextTick(_o,e,t))}t.sync=!0,t.pendingcb++;try{e._final(n)}catch(i){n(i)}t.sync=!1}function vy(e,t){!t.prefinished&&!t.finalCalled&&(typeof e._final=="function"&&!t.destroyed?(t.finalCalled=!0,Py(e,t)):(t.prefinished=!0,e.emit("prefinish")))}function wo(e,t,r){On(t)&&(vy(e,t),t.pendingcb===0&&(r?(t.pendingcb++,Pt.nextTick((n,i)=>{On(i)?_o(n,i):i.pendingcb--},e,t)):On(t)&&(t.pendingcb++,_o(e,t))))}function _o(e,t){t.pendingcb--,t.finished=!0;let r=t[cr].splice(0);for(let n=0;n<r.length;n++)r[n]();if(e.emit("finish"),t.autoDestroy){let n=e._readableState;(!n||n.autoDestroy&&(n.endEmitted||n.readable===!1))&&e.destroy()}}fy(z.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(e){this._writableState&&(this._writableState.destroyed=e)}},writable:{__proto__:null,get(){let e=this._writableState;return!!e&&e.writable!==!1&&!e.destroyed&&!e.errored&&!e.ending&&!e.ended},set(e){this._writableState&&(this._writableState.writable=!!e)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let e=this._writableState;return e?!e.destroyed&&!e.ending&&e.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var Iy=xn.destroy;z.prototype.destroy=function(e,t){let r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[cr].length)&&Pt.nextTick(yo,r),Iy.call(this,e,t),this},z.prototype._undestroy=xn.undestroy,z.prototype._destroy=function(e,t){t(e)},z.prototype[py.captureRejectionSymbol]=function(e){this.destroy(e)};var mo;function mu(){return mo===void 0&&(mo={}),mo}z.fromWeb=function(e,t){return mu().newStreamWritableFromWritableStream(e,t)},z.toWeb=function(e){return mu().newWritableStreamFromStreamWritable(e)}});var Lu=O((ym,Wu)=>{var So=Ze(),By=Me(),{isReadable:xy,isWritable:ky,isIterable:Eu,isNodeStream:Oy,isReadableNodeStream:Ru,isWritableNodeStream:Tu,isDuplexNodeStream:qy,isReadableStream:Au,isWritableStream:Cu}=Be(),Pu=je(),{AbortError:vu,codes:{ERR_INVALID_ARG_TYPE:Wy,ERR_INVALID_RETURN_VALUE:Iu}}=ne(),{destroyer:hr}=Tt(),Ly=Oe(),Bu=Nr(),Fy=qn(),{createDeferredPromise:xu}=Z(),ku=oo(),Ou=globalThis.Blob||By.Blob,Ny=typeof Ou!="undefined"?function(t){return t instanceof Ou}:function(t){return!1},Dy=globalThis.AbortController||nr().AbortController,{FunctionPrototypeCall:qu}=$(),vt=class extends Ly{constructor(t){super(t);(t==null?void 0:t.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(t==null?void 0:t.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};Wu.exports=function e(t,r){if(qy(t))return t;if(Ru(t))return pr({readable:t});if(Tu(t))return pr({writable:t});if(Oy(t))return pr({writable:!1,readable:!1});if(Au(t))return pr({readable:Bu.fromWeb(t)});if(Cu(t))return pr({writable:Fy.fromWeb(t)});if(typeof t=="function"){let{value:i,write:o,final:a,destroy:s}=My(t);if(Eu(i))return ku(vt,i,{objectMode:!0,write:o,final:a,destroy:s});let l=i==null?void 0:i.then;if(typeof l=="function"){let u,d=qu(l,i,c=>{if(c!=null)throw new Iu("nully","body",c)},c=>{hr(u,c)});return u=new vt({objectMode:!0,readable:!1,write:o,final(c){a(async()=>{try{await d,So.nextTick(c,null)}catch(w){So.nextTick(c,w)}})},destroy:s})}throw new Iu("Iterable, AsyncIterable or AsyncFunction",r,i)}if(Ny(t))return e(t.arrayBuffer());if(Eu(t))return ku(vt,t,{objectMode:!0,writable:!1});if(Au(t==null?void 0:t.readable)&&Cu(t==null?void 0:t.writable))return vt.fromWeb(t);if(typeof(t==null?void 0:t.writable)=="object"||typeof(t==null?void 0:t.readable)=="object"){let i=t!=null&&t.readable?Ru(t==null?void 0:t.readable)?t==null?void 0:t.readable:e(t.readable):void 0,o=t!=null&&t.writable?Tu(t==null?void 0:t.writable)?t==null?void 0:t.writable:e(t.writable):void 0;return pr({readable:i,writable:o})}let n=t==null?void 0:t.then;if(typeof n=="function"){let i;return qu(n,t,o=>{o!=null&&i.push(o),i.push(null)},o=>{hr(i,o)}),i=new vt({objectMode:!0,writable:!1,read(){}})}throw new Wy(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],t)};function My(e){let{promise:t,resolve:r}=xu(),n=new Dy,i=n.signal;return{value:e(async function*(){for(;;){let a=t;t=null;let{chunk:s,done:l,cb:u}=await a;if(So.nextTick(u),l)return;if(i.aborted)throw new vu(void 0,{cause:i.reason});({promise:t,resolve:r}=xu()),yield s}}(),{signal:i}),write(a,s,l){let u=r;r=null,u({chunk:a,done:!1,cb:l})},final(a){let s=r;r=null,s({done:!0,cb:a})},destroy(a,s){n.abort(),s(a)}}}function pr(e){let t=e.readable&&typeof e.readable.read!="function"?Bu.wrap(e.readable):e.readable,r=e.writable,n=!!xy(t),i=!!ky(r),o,a,s,l,u;function d(c){let w=l;l=null,w?w(c):c&&u.destroy(c)}return u=new vt({readableObjectMode:!!(t!=null&&t.readableObjectMode),writableObjectMode:!!(r!=null&&r.writableObjectMode),readable:n,writable:i}),i&&(Pu(r,c=>{i=!1,c&&hr(t,c),d(c)}),u._write=function(c,w,b){r.write(c,w)?b():o=b},u._final=function(c){r.end(),a=c},r.on("drain",function(){if(o){let c=o;o=null,c()}}),r.on("finish",function(){if(a){let c=a;a=null,c()}})),n&&(Pu(t,c=>{n=!1,c&&hr(t,c),d(c)}),t.on("readable",function(){if(s){let c=s;s=null,c()}}),t.on("end",function(){u.push(null)}),u._read=function(){for(;;){let c=t.read();if(c===null){s=u._read;return}if(!u.push(c))return}}),u._destroy=function(c,w){!c&&l!==null&&(c=new vu),s=null,o=null,a=null,l===null?w(c):(l=w,hr(r,c),hr(t,c))},u}});var Oe=O((gm,Du)=>{"use strict";var{ObjectDefineProperties:jy,ObjectGetOwnPropertyDescriptor:Ue,ObjectKeys:Uy,ObjectSetPrototypeOf:Fu}=$();Du.exports=Se;var Eo=Nr(),ce=qn();Fu(Se.prototype,Eo.prototype),Fu(Se,Eo);{let e=Uy(ce.prototype);for(let t=0;t<e.length;t++){let r=e[t];Se.prototype[r]||(Se.prototype[r]=ce.prototype[r])}}function Se(e){if(!(this instanceof Se))return new Se(e);Eo.call(this,e),ce.call(this,e),e?(this.allowHalfOpen=e.allowHalfOpen!==!1,e.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),e.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}jy(Se.prototype,{writable:{__proto__:null,...Ue(ce.prototype,"writable")},writableHighWaterMark:{__proto__:null,...Ue(ce.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...Ue(ce.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...Ue(ce.prototype,"writableBuffer")},writableLength:{__proto__:null,...Ue(ce.prototype,"writableLength")},writableFinished:{__proto__:null,...Ue(ce.prototype,"writableFinished")},writableCorked:{__proto__:null,...Ue(ce.prototype,"writableCorked")},writableEnded:{__proto__:null,...Ue(ce.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...Ue(ce.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(e){this._readableState&&this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}});var Ro;function Nu(){return Ro===void 0&&(Ro={}),Ro}Se.fromWeb=function(e,t){return Nu().newStreamDuplexFromReadableWritablePair(e,t)},Se.toWeb=function(e){return Nu().newReadableWritablePairFromDuplex(e)};var To;Se.from=function(e){return To||(To=Lu()),To(e,"body")}});var Po=O((wm,ju)=>{"use strict";var{ObjectSetPrototypeOf:Mu,Symbol:$y}=$();ju.exports=$e;var{ERR_METHOD_NOT_IMPLEMENTED:zy}=ne().codes,Ao=Oe(),{getHighWaterMark:Hy}=Wr();Mu($e.prototype,Ao.prototype),Mu($e,Ao);var Ur=$y("kCallback");function $e(e){if(!(this instanceof $e))return new $e(e);let t=e?Hy(this,e,"readableHighWaterMark",!0):null;t===0&&(e={...e,highWaterMark:null,readableHighWaterMark:t,writableHighWaterMark:e.writableHighWaterMark||0}),Ao.call(this,e),this._readableState.sync=!1,this[Ur]=null,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",Vy)}function Co(e){typeof this._flush=="function"&&!this.destroyed?this._flush((t,r)=>{if(t){e?e(t):this.destroy(t);return}r!=null&&this.push(r),this.push(null),e&&e()}):(this.push(null),e&&e())}function Vy(){this._final!==Co&&Co.call(this)}$e.prototype._final=Co,$e.prototype._transform=function(e,t,r){throw new zy("_transform()")},$e.prototype._write=function(e,t,r){let n=this._readableState,i=this._writableState,o=n.length;this._transform(e,t,(a,s)=>{if(a){r(a);return}s!=null&&this.push(s),i.ended||o===n.length||n.length<n.highWaterMark?r():this[Ur]=r})},$e.prototype._read=function(){if(this[Ur]){let e=this[Ur];this[Ur]=null,e()}}});var Io=O((_m,$u)=>{"use strict";var{ObjectSetPrototypeOf:Uu}=$();$u.exports=br;var vo=Po();Uu(br.prototype,vo.prototype),Uu(br,vo);function br(e){if(!(this instanceof br))return new br(e);vo.call(this,e)}br.prototype._transform=function(e,t,r){r(null,e)}});var Nn=O((mm,Yu)=>{var $r=Ze(),{ArrayIsArray:Gy,Promise:Yy,SymbolAsyncIterator:Qy,SymbolDispose:Ky}=$(),Wn=je(),{once:Jy}=Z(),Xy=Tt(),zu=Oe(),{aggregateTwoErrors:Zy,codes:{ERR_INVALID_ARG_TYPE:Bo,ERR_INVALID_RETURN_VALUE:xo,ERR_MISSING_ARGS:eg,ERR_STREAM_DESTROYED:tg,ERR_STREAM_PREMATURE_CLOSE:rg},AbortError:ng}=ne(),{validateFunction:ig,validateAbortSignal:og}=ar(),{isIterable:It,isReadable:ko,isReadableNodeStream:Ln,isNodeStream:Hu,isTransformStream:yr,isWebStream:ag,isReadableStream:Oo,isReadableFinished:sg}=Be(),lg=globalThis.AbortController||nr().AbortController,qo,Wo,Lo;function Vu(e,t,r){let n=!1;e.on("close",()=>{n=!0});let i=Wn(e,{readable:t,writable:r},o=>{n=!o});return{destroy:o=>{n||(n=!0,Xy.destroyer(e,o||new tg("pipe")))},cleanup:i}}function ug(e){return ig(e[e.length-1],"streams[stream.length - 1]"),e.pop()}function Fo(e){if(It(e))return e;if(Ln(e))return fg(e);throw new Bo("val",["Readable","Iterable","AsyncIterable"],e)}async function*fg(e){Wo||(Wo=Nr()),yield*Wo.prototype[Qy].call(e)}async function Fn(e,t,r,{end:n}){let i,o=null,a=u=>{if(u&&(i=u),o){let d=o;o=null,d()}},s=()=>new Yy((u,d)=>{i?d(i):o=()=>{i?d(i):u()}});t.on("drain",a);let l=Wn(t,{readable:!1},a);try{t.writableNeedDrain&&await s();for await(let u of e)t.write(u)||await s();n&&(t.end(),await s()),r()}catch(u){r(i!==u?Zy(i,u):u)}finally{l(),t.off("drain",a)}}async function No(e,t,r,{end:n}){yr(t)&&(t=t.writable);let i=t.getWriter();try{for await(let o of e)await i.ready,i.write(o).catch(()=>{});await i.ready,n&&await i.close(),r()}catch(o){try{await i.abort(o),r(o)}catch(a){r(a)}}}function dg(...e){return Gu(e,Jy(ug(e)))}function Gu(e,t,r){if(e.length===1&&Gy(e[0])&&(e=e[0]),e.length<2)throw new eg("streams");let n=new lg,i=n.signal,o=r==null?void 0:r.signal,a=[];og(o,"options.signal");function s(){C(new ng)}Lo=Lo||Z().addAbortListener;let l;o&&(l=Lo(o,s));let u,d,c=[],w=0;function b(x){C(x,--w===0)}function C(x,R){var g;if(x&&(!u||u.code==="ERR_STREAM_PREMATURE_CLOSE")&&(u=x),!(!u&&!R)){for(;c.length;)c.shift()(u);(g=l)===null||g===void 0||g[Ky](),n.abort(),R&&(u||a.forEach(A=>A()),$r.nextTick(t,u,d))}}let y;for(let x=0;x<e.length;x++){let R=e[x],g=x<e.length-1,A=x>0,I=g||(r==null?void 0:r.end)!==!1,H=x===e.length-1;if(Hu(R)){let U=function(V){V&&V.name!=="AbortError"&&V.code!=="ERR_STREAM_PREMATURE_CLOSE"&&b(V)};var P=U;if(I){let{destroy:V,cleanup:ue}=Vu(R,g,A);c.push(V),ko(R)&&H&&a.push(ue)}R.on("error",U),ko(R)&&H&&a.push(()=>{R.removeListener("error",U)})}if(x===0)if(typeof R=="function"){if(y=R({signal:i}),!It(y))throw new xo("Iterable, AsyncIterable or Stream","source",y)}else It(R)||Ln(R)||yr(R)?y=R:y=zu.from(R);else if(typeof R=="function"){if(yr(y)){var v;y=Fo((v=y)===null||v===void 0?void 0:v.readable)}else y=Fo(y);if(y=R(y,{signal:i}),g){if(!It(y,!0))throw new xo("AsyncIterable",`transform[${x-1}]`,y)}else{var S;qo||(qo=Io());let U=new qo({objectMode:!0}),V=(S=y)===null||S===void 0?void 0:S.then;if(typeof V=="function")w++,V.call(y,se=>{d=se,se!=null&&U.write(se),I&&U.end(),$r.nextTick(b)},se=>{U.destroy(se),$r.nextTick(b,se)});else if(It(y,!0))w++,Fn(y,U,b,{end:I});else if(Oo(y)||yr(y)){let se=y.readable||y;w++,Fn(se,U,b,{end:I})}else throw new xo("AsyncIterable or Promise","destination",y);y=U;let{destroy:ue,cleanup:Qe}=Vu(y,!1,!0);c.push(ue),H&&a.push(Qe)}}else if(Hu(R)){if(Ln(y)){w+=2;let U=cg(y,R,b,{end:I});ko(R)&&H&&a.push(U)}else if(yr(y)||Oo(y)){let U=y.readable||y;w++,Fn(U,R,b,{end:I})}else if(It(y))w++,Fn(y,R,b,{end:I});else throw new Bo("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],y);y=R}else if(ag(R)){if(Ln(y))w++,No(Fo(y),R,b,{end:I});else if(Oo(y)||It(y))w++,No(y,R,b,{end:I});else if(yr(y))w++,No(y.readable,R,b,{end:I});else throw new Bo("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],y);y=R}else y=zu.from(R)}return(i!=null&&i.aborted||o!=null&&o.aborted)&&$r.nextTick(s),y}function cg(e,t,r,{end:n}){let i=!1;if(t.on("close",()=>{i||r(new rg)}),e.pipe(t,{end:!1}),n){let a=function(){i=!0,t.end()};var o=a;sg(e)?$r.nextTick(a):e.once("end",a)}else r();return Wn(e,{readable:!0,writable:!1},a=>{let s=e._readableState;a&&a.code==="ERR_STREAM_PREMATURE_CLOSE"&&s&&s.ended&&!s.errored&&!s.errorEmitted?e.once("end",r).once("error",r):r(a)}),Wn(t,{readable:!1,writable:!0},r)}Yu.exports={pipelineImpl:Gu,pipeline:dg}});var Mo=O((Sm,ef)=>{"use strict";var{pipeline:hg}=Nn(),Dn=Oe(),{destroyer:pg}=Tt(),{isNodeStream:Mn,isReadable:Qu,isWritable:Ku,isWebStream:Do,isTransformStream:Bt,isWritableStream:Ju,isReadableStream:Xu}=Be(),{AbortError:bg,codes:{ERR_INVALID_ARG_VALUE:Zu,ERR_MISSING_ARGS:yg}}=ne(),gg=je();ef.exports=function(...t){if(t.length===0)throw new yg("streams");if(t.length===1)return Dn.from(t[0]);let r=[...t];if(typeof t[0]=="function"&&(t[0]=Dn.from(t[0])),typeof t[t.length-1]=="function"){let b=t.length-1;t[b]=Dn.from(t[b])}for(let b=0;b<t.length;++b)if(!(!Mn(t[b])&&!Do(t[b]))){if(b<t.length-1&&!(Qu(t[b])||Xu(t[b])||Bt(t[b])))throw new Zu(`streams[${b}]`,r[b],"must be readable");if(b>0&&!(Ku(t[b])||Ju(t[b])||Bt(t[b])))throw new Zu(`streams[${b}]`,r[b],"must be writable")}let n,i,o,a,s;function l(b){let C=a;a=null,C?C(b):b?s.destroy(b):!w&&!c&&s.destroy()}let u=t[0],d=hg(t,l),c=!!(Ku(u)||Ju(u)||Bt(u)),w=!!(Qu(d)||Xu(d)||Bt(d));if(s=new Dn({writableObjectMode:!!(u!=null&&u.writableObjectMode),readableObjectMode:!!(d!=null&&d.readableObjectMode),writable:c,readable:w}),c){if(Mn(u))s._write=function(C,y,v){u.write(C,y)?v():n=v},s._final=function(C){u.end(),i=C},u.on("drain",function(){if(n){let C=n;n=null,C()}});else if(Do(u)){let y=(Bt(u)?u.writable:u).getWriter();s._write=async function(v,S,P){try{await y.ready,y.write(v).catch(()=>{}),P()}catch(x){P(x)}},s._final=async function(v){try{await y.ready,y.close().catch(()=>{}),i=v}catch(S){v(S)}}}let b=Bt(d)?d.readable:d;gg(b,()=>{if(i){let C=i;i=null,C()}})}if(w){if(Mn(d))d.on("readable",function(){if(o){let b=o;o=null,b()}}),d.on("end",function(){s.push(null)}),s._read=function(){for(;;){let b=d.read();if(b===null){o=s._read;return}if(!s.push(b))return}};else if(Do(d)){let C=(Bt(d)?d.readable:d).getReader();s._read=async function(){for(;;)try{let{value:y,done:v}=await C.read();if(!s.push(y))return;if(v){s.push(null);return}}catch{return}}}}return s._destroy=function(b,C){!b&&a!==null&&(b=new bg),o=null,n=null,i=null,a===null?C(b):(a=C,Mn(d)&&pg(d,b))},s}});var cf=O((Em,Uo)=>{"use strict";var wg=globalThis.AbortController||nr().AbortController,{codes:{ERR_INVALID_ARG_VALUE:_g,ERR_INVALID_ARG_TYPE:zr,ERR_MISSING_ARGS:mg,ERR_OUT_OF_RANGE:Sg},AbortError:qe}=ne(),{validateAbortSignal:xt,validateInteger:tf,validateObject:kt}=ar(),Eg=$().Symbol("kWeak"),Rg=$().Symbol("kResistStopPropagation"),{finished:Tg}=je(),Ag=Mo(),{addAbortSignalNoValidate:Cg}=qr(),{isWritable:Pg,isNodeStream:vg}=Be(),{deprecate:Ig}=Z(),{ArrayPrototypePush:Bg,Boolean:xg,MathFloor:rf,Number:kg,NumberIsNaN:Og,Promise:nf,PromiseReject:of,PromiseResolve:qg,PromisePrototypeThen:af,Symbol:sf}=$(),jn=sf("kEmpty"),lf=sf("kEof");function Wg(e,t){if(t!=null&&kt(t,"options"),(t==null?void 0:t.signal)!=null&&xt(t.signal,"options.signal"),vg(e)&&!Pg(e))throw new _g("stream",e,"must be writable");let r=Ag(this,e);return t!=null&&t.signal&&Cg(t.signal,r),r}function Un(e,t){if(typeof e!="function")throw new zr("fn",["Function","AsyncFunction"],e);t!=null&&kt(t,"options"),(t==null?void 0:t.signal)!=null&&xt(t.signal,"options.signal");let r=1;(t==null?void 0:t.concurrency)!=null&&(r=rf(t.concurrency));let n=r-1;return(t==null?void 0:t.highWaterMark)!=null&&(n=rf(t.highWaterMark)),tf(r,"options.concurrency",1),tf(n,"options.highWaterMark",0),n+=r,async function*(){let o=Z().AbortSignalAny([t==null?void 0:t.signal].filter(xg)),a=this,s=[],l={signal:o},u,d,c=!1,w=0;function b(){c=!0,C()}function C(){w-=1,y()}function y(){d&&!c&&w<r&&s.length<n&&(d(),d=null)}async function v(){try{for await(let S of a){if(c)return;if(o.aborted)throw new qe;try{if(S=e(S,l),S===jn)continue;S=qg(S)}catch(P){S=of(P)}w+=1,af(S,C,b),s.push(S),u&&(u(),u=null),!c&&(s.length>=n||w>=r)&&await new nf(P=>{d=P})}s.push(lf)}catch(S){let P=of(S);af(P,C,b),s.push(P)}finally{c=!0,u&&(u(),u=null)}}v();try{for(;;){for(;s.length>0;){let S=await s[0];if(S===lf)return;if(o.aborted)throw new qe;S!==jn&&(yield S),s.shift(),y()}await new nf(S=>{u=S})}}finally{c=!0,d&&(d(),d=null)}}.call(this)}function Lg(e=void 0){return e!=null&&kt(e,"options"),(e==null?void 0:e.signal)!=null&&xt(e.signal,"options.signal"),async function*(){let r=0;for await(let i of this){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new qe({cause:e.signal.reason});yield[r++,i]}}.call(this)}async function uf(e,t=void 0){for await(let r of jo.call(this,e,t))return!0;return!1}async function Fg(e,t=void 0){if(typeof e!="function")throw new zr("fn",["Function","AsyncFunction"],e);return!await uf.call(this,async(...r)=>!await e(...r),t)}async function Ng(e,t){for await(let r of jo.call(this,e,t))return r}async function Dg(e,t){if(typeof e!="function")throw new zr("fn",["Function","AsyncFunction"],e);async function r(n,i){return await e(n,i),jn}for await(let n of Un.call(this,r,t));}function jo(e,t){if(typeof e!="function")throw new zr("fn",["Function","AsyncFunction"],e);async function r(n,i){return await e(n,i)?n:jn}return Un.call(this,r,t)}var ff=class extends mg{constructor(){super("reduce");this.message="Reduce of an empty stream requires an initial value"}};async function Mg(e,t,r){var n;if(typeof e!="function")throw new zr("reducer",["Function","AsyncFunction"],e);r!=null&&kt(r,"options"),(r==null?void 0:r.signal)!=null&&xt(r.signal,"options.signal");let i=arguments.length>1;if(r!=null&&(n=r.signal)!==null&&n!==void 0&&n.aborted){let u=new qe(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await Tg(this.destroy(u)),u}let o=new wg,a=o.signal;if(r!=null&&r.signal){let u={once:!0,[Eg]:this,[Rg]:!0};r.signal.addEventListener("abort",()=>o.abort(),u)}let s=!1;try{for await(let u of this){var l;if(s=!0,r!=null&&(l=r.signal)!==null&&l!==void 0&&l.aborted)throw new qe;i?t=await e(t,u,{signal:a}):(t=u,i=!0)}if(!s&&!i)throw new ff}finally{o.abort()}return t}async function jg(e){e!=null&&kt(e,"options"),(e==null?void 0:e.signal)!=null&&xt(e.signal,"options.signal");let t=[];for await(let n of this){var r;if(e!=null&&(r=e.signal)!==null&&r!==void 0&&r.aborted)throw new qe(void 0,{cause:e.signal.reason});Bg(t,n)}return t}function Ug(e,t){let r=Un.call(this,e,t);return async function*(){for await(let i of r)yield*i}.call(this)}function df(e){if(e=kg(e),Og(e))return 0;if(e<0)throw new Sg("number",">= 0",e);return e}function $g(e,t=void 0){return t!=null&&kt(t,"options"),(t==null?void 0:t.signal)!=null&&xt(t.signal,"options.signal"),e=df(e),async function*(){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new qe;for await(let o of this){var i;if(t!=null&&(i=t.signal)!==null&&i!==void 0&&i.aborted)throw new qe;e--<=0&&(yield o)}}.call(this)}function zg(e,t=void 0){return t!=null&&kt(t,"options"),(t==null?void 0:t.signal)!=null&&xt(t.signal,"options.signal"),e=df(e),async function*(){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new qe;for await(let o of this){var i;if(t!=null&&(i=t.signal)!==null&&i!==void 0&&i.aborted)throw new qe;if(e-- >0&&(yield o),e<=0)return}}.call(this)}Uo.exports.streamReturningOperators={asIndexedPairs:Ig(Lg,"readable.asIndexedPairs will be removed in a future version."),drop:$g,filter:jo,flatMap:Ug,map:Un,take:zg,compose:Wg},Uo.exports.promiseReturningOperators={every:Fg,forEach:Dg,reduce:Mg,toArray:jg,some:uf,find:Ng}});var pf=O((Rm,hf)=>{"use strict";var{ArrayPrototypePop:Hg,Promise:Vg}=$(),{isIterable:Gg,isNodeStream:Yg,isWebStream:Qg}=Be(),{pipelineImpl:Kg}=Nn(),{finished:Jg}=je();$o();function Xg(...e){return new Vg((t,r)=>{let n,i,o=e[e.length-1];if(o&&typeof o=="object"&&!Yg(o)&&!Gg(o)&&!Qg(o)){let a=Hg(e);n=a.signal,i=a.end}Kg(e,(a,s)=>{a?r(a):t(s)},{signal:n,end:i})})}hf.exports={finished:Jg,pipeline:Xg}});var $o=O((Am,Rf)=>{var{Buffer:Zg}=Me(),{ObjectDefineProperty:ze,ObjectKeys:bf,ReflectApply:yf}=$(),{promisify:{custom:gf}}=Z(),{streamReturningOperators:wf,promiseReturningOperators:_f}=cf(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:mf}}=ne(),ew=Mo(),{setDefaultHighWaterMark:tw,getDefaultHighWaterMark:rw}=Wr(),{pipeline:Sf}=Nn(),{destroyer:nw}=Tt(),Ef=je(),Tm={},zo=pf(),Hr=Be(),j=Rf.exports=Sn().Stream;j.isDestroyed=Hr.isDestroyed,j.isDisturbed=Hr.isDisturbed,j.isErrored=Hr.isErrored,j.isReadable=Hr.isReadable,j.isWritable=Hr.isWritable,j.Readable=Nr();for(let e of bf(wf)){let r=function(...n){if(new.target)throw mf();return j.Readable.from(yf(t,this,n))};ow=r;let t=wf[e];ze(r,"name",{__proto__:null,value:t.name}),ze(r,"length",{__proto__:null,value:t.length}),ze(j.Readable.prototype,e,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}for(let e of bf(_f)){let r=function(...i){if(new.target)throw mf();return yf(t,this,i)};ow=r;let t=_f[e];ze(r,"name",{__proto__:null,value:t.name}),ze(r,"length",{__proto__:null,value:t.length}),ze(j.Readable.prototype,e,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}j.Writable=qn(),j.Duplex=Oe(),j.Transform=Po(),j.PassThrough=Io(),j.pipeline=Sf;var{addAbortSignal:iw}=qr();j.addAbortSignal=iw,j.finished=Ef,j.destroy=nw,j.compose=ew,j.setDefaultHighWaterMark=tw,j.getDefaultHighWaterMark=rw,ze(j,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return zo}}),ze(Sf,gf,{__proto__:null,enumerable:!0,get(){return zo.pipeline}}),ze(Ef,gf,{__proto__:null,enumerable:!0,get(){return zo.finished}}),j.Stream=j,j._isUint8Array=function(t){return t instanceof Uint8Array},j._uint8ArrayToBuffer=function(t){return Zg.from(t.buffer,t.byteOffset,t.byteLength)};var ow});var te=Zd($o(),1);function aw(){return{Readable:te.Readable,Writable:te.Writable,Transform:te.Transform,Duplex:te.Duplex,pipeline:te.pipeline,finished:te.finished}}function sw(e){e.Readable=te.Readable,e.Writable=te.Writable,e.Transform=te.Transform,e.Duplex=te.Duplex,e.stream=aw()}sw(globalThis);var q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol:e=>`Symbol(${e})`;function Ho(){}function lw(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global}var Tf=lw();function ae(e){return typeof e=="object"&&e!==null||typeof e=="function"}var Af=Ho,Vo=Promise,uw=Promise.prototype.then,fw=Promise.resolve.bind(Vo),dw=Promise.reject.bind(Vo);function re(e){return new Vo(e)}function W(e){return fw(e)}function T(e){return dw(e)}function He(e,t,r){return uw.call(e,t,r)}function Ee(e,t,r){He(He(e,t,r),void 0,Af)}function Go(e,t){Ee(e,t)}function Yo(e,t){Ee(e,void 0,t)}function Ot(e,t,r){return He(e,t,r)}function Vr(e){He(e,void 0,Af)}var $n=(()=>{let e=Tf&&Tf.queueMicrotask;if(typeof e=="function")return e;let t=W(void 0);return r=>He(t,r)})();function zn(e,t,r){if(typeof e!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,r)}function qt(e,t,r){try{return W(zn(e,t,r))}catch(n){return T(n)}}var Cf=16384,he=class{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(t){let r=this._back,n=r;r._elements.length===Cf-1&&(n={_elements:[],_next:void 0}),r._elements.push(t),n!==r&&(this._back=n,r._next=n),++this._size}shift(){let t=this._front,r=t,n=this._cursor,i=n+1,o=t._elements,a=o[n];return i===Cf&&(r=t._next,i=0),--this._size,this._cursor=i,t!==r&&(this._front=r),o[n]=void 0,a}forEach(t){let r=this._cursor,n=this._front,i=n._elements;for(;(r!==i.length||n._next!==void 0)&&!(r===i.length&&(n=n._next,i=n._elements,r=0,i.length===0));)t(i[r]),++r}peek(){let t=this._front,r=this._cursor;return t._elements[r]}};function Pf(e,t){e._ownerReadableStream=t,t._reader=e,t._state==="readable"?Ko(e):t._state==="closed"?cw(e):vf(e,t._storedError)}function Qo(e,t){let r=e._ownerReadableStream;return Ae(r,t)}function Ve(e){e._ownerReadableStream._state==="readable"?Jo(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):hw(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),e._ownerReadableStream._reader=void 0,e._ownerReadableStream=void 0}function gr(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function Ko(e){e._closedPromise=re((t,r)=>{e._closedPromise_resolve=t,e._closedPromise_reject=r})}function vf(e,t){Ko(e),Jo(e,t)}function cw(e){Ko(e),If(e)}function Jo(e,t){e._closedPromise_reject!==void 0&&(Vr(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function hw(e,t){vf(e,t)}function If(e){e._closedPromise_resolve!==void 0&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}var Bf=q("[[AbortSteps]]"),xf=q("[[ErrorSteps]]"),Xo=q("[[CancelSteps]]"),Zo=q("[[PullSteps]]"),kf=Number.isFinite||function(e){return typeof e=="number"&&isFinite(e)},pw=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function bw(e){return typeof e=="object"||typeof e=="function"}function Ge(e,t){if(e!==void 0&&!bw(e))throw new TypeError(`${t} is not an object.`)}function Re(e,t){if(typeof e!="function")throw new TypeError(`${t} is not a function.`)}function yw(e){return typeof e=="object"&&e!==null||typeof e=="function"}function Of(e,t){if(!yw(e))throw new TypeError(`${t} is not an object.`)}function Ye(e,t,r){if(e===void 0)throw new TypeError(`Parameter ${t} is required in '${r}'.`)}function ea(e,t,r){if(e===void 0)throw new TypeError(`${t} is required in '${r}'.`)}function ta(e){return Number(e)}function qf(e){return e===0?0:e}function gw(e){return qf(pw(e))}function Wf(e,t){let r=0,n=Number.MAX_SAFE_INTEGER,i=Number(e);if(i=qf(i),!kf(i))throw new TypeError(`${t} is not a finite number`);if(i=gw(i),i<r||i>n)throw new TypeError(`${t} is outside the accepted range of ${r} to ${n}, inclusive`);return!kf(i)||i===0?0:i}function ra(e,t){if(!lt(e))throw new TypeError(`${t} is not a ReadableStream.`)}function wr(e){return new Wt(e)}function Lf(e,t){e._reader._readRequests.push(t)}function na(e,t,r){let i=e._reader._readRequests.shift();r?i._closeSteps():i._chunkSteps(t)}function Hn(e){return e._reader._readRequests.length}function Ff(e){let t=e._reader;return!(t===void 0||!rt(t))}var Wt=class{constructor(t){if(Ye(t,1,"ReadableStreamDefaultReader"),ra(t,"First parameter"),ut(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");Pf(this,t),this._readRequests=new he}get closed(){return rt(this)?this._closedPromise:T(Vn("closed"))}cancel(t=void 0){return rt(this)?this._ownerReadableStream===void 0?T(gr("cancel")):Qo(this,t):T(Vn("cancel"))}read(){if(!rt(this))return T(Vn("read"));if(this._ownerReadableStream===void 0)return T(gr("read from"));let t,r,n=re((o,a)=>{t=o,r=a});return Gr(this,{_chunkSteps:o=>t({value:o,done:!1}),_closeSteps:()=>t({value:void 0,done:!0}),_errorSteps:o=>r(o)}),n}releaseLock(){if(!rt(this))throw Vn("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");Ve(this)}}};Object.defineProperties(Wt.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof q.toStringTag=="symbol"&&Object.defineProperty(Wt.prototype,q.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});function rt(e){return!ae(e)||!Object.prototype.hasOwnProperty.call(e,"_readRequests")?!1:e instanceof Wt}function Gr(e,t){let r=e._ownerReadableStream;r._disturbed=!0,r._state==="closed"?t._closeSteps():r._state==="errored"?t._errorSteps(r._storedError):r._readableStreamController[Zo](t)}function Vn(e){return new TypeError(`ReadableStreamDefaultReader.prototype.${e} can only be used on a ReadableStreamDefaultReader`)}var Nf=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype),ia=class{constructor(t,r){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=t,this._preventCancel=r}next(){let t=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?Ot(this._ongoingPromise,t,t):t(),this._ongoingPromise}return(t){let r=()=>this._returnSteps(t);return this._ongoingPromise?Ot(this._ongoingPromise,r,r):r()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});let t=this._reader;if(t._ownerReadableStream===void 0)return T(gr("iterate"));let r,n,i=re((a,s)=>{r=a,n=s});return Gr(t,{_chunkSteps:a=>{this._ongoingPromise=void 0,$n(()=>r({value:a,done:!1}))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,Ve(t),r({value:void 0,done:!0})},_errorSteps:a=>{this._ongoingPromise=void 0,this._isFinished=!0,Ve(t),n(a)}}),i}_returnSteps(t){if(this._isFinished)return Promise.resolve({value:t,done:!0});this._isFinished=!0;let r=this._reader;if(r._ownerReadableStream===void 0)return T(gr("finish iterating"));if(!this._preventCancel){let n=Qo(r,t);return Ve(r),Ot(n,()=>({value:t,done:!0}))}return Ve(r),W({value:t,done:!0})}},Df={next(){return Mf(this)?this._asyncIteratorImpl.next():T(jf("next"))},return(e){return Mf(this)?this._asyncIteratorImpl.return(e):T(jf("return"))}};Nf!==void 0&&Object.setPrototypeOf(Df,Nf);function ww(e,t){let r=wr(e),n=new ia(r,t),i=Object.create(Df);return i._asyncIteratorImpl=n,i}function Mf(e){if(!ae(e)||!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl"))return!1;try{return e._asyncIteratorImpl instanceof ia}catch{return!1}}function jf(e){return new TypeError(`ReadableStreamAsyncIterator.${e} can only be used on a ReadableSteamAsyncIterator`)}var Uf=Number.isNaN||function(e){return e!==e};function Yr(e){return e.slice()}function $f(e,t,r,n,i){new Uint8Array(e).set(new Uint8Array(r,n,i),t)}function Cm(e){return e}function Gn(e){return!1}function zf(e,t,r){if(e.slice)return e.slice(t,r);let n=r-t,i=new ArrayBuffer(n);return $f(i,0,e,t,n),i}function _w(e){return!(typeof e!="number"||Uf(e)||e<0)}function Hf(e){let t=zf(e.buffer,e.byteOffset,e.byteOffset+e.byteLength);return new Uint8Array(t)}function oa(e){let t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value}function aa(e,t,r){if(!_w(r)||r===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");e._queue.push({value:t,size:r}),e._queueTotalSize+=r}function mw(e){return e._queue.peek().value}function nt(e){e._queue=new he,e._queueTotalSize=0}var Lt=class{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!sa(this))throw da("view");return this._view}respond(t){if(!sa(this))throw da("respond");if(Ye(t,1,"respond"),t=Wf(t,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");Gn(this._view.buffer),Xn(this._associatedReadableByteStreamController,t)}respondWithNewView(t){if(!sa(this))throw da("respondWithNewView");if(Ye(t,1,"respondWithNewView"),!ArrayBuffer.isView(t))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");Gn(t.buffer),Zn(this._associatedReadableByteStreamController,t)}};Object.defineProperties(Lt.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),typeof q.toStringTag=="symbol"&&Object.defineProperty(Lt.prototype,q.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});var it=class{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!Ft(this))throw Kr("byobRequest");return fa(this)}get desiredSize(){if(!Ft(this))throw Kr("desiredSize");return Zf(this)}close(){if(!Ft(this))throw Kr("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");let t=this._controlledReadableByteStream._state;if(t!=="readable")throw new TypeError(`The stream (in ${t} state) is not in the readable state and cannot be closed`);Qr(this)}enqueue(t){if(!Ft(this))throw Kr("enqueue");if(Ye(t,1,"enqueue"),!ArrayBuffer.isView(t))throw new TypeError("chunk must be an array buffer view");if(t.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(t.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");let r=this._controlledReadableByteStream._state;if(r!=="readable")throw new TypeError(`The stream (in ${r} state) is not in the readable state and cannot be enqueued to`);Jn(this,t)}error(t=void 0){if(!Ft(this))throw Kr("error");Te(this,t)}[Xo](t){Vf(this),nt(this);let r=this._cancelAlgorithm(t);return Kn(this),r}[Zo](t){let r=this._controlledReadableByteStream;if(this._queueTotalSize>0){let i=this._queue.shift();this._queueTotalSize-=i.byteLength,Kf(this);let o=new Uint8Array(i.buffer,i.byteOffset,i.byteLength);t._chunkSteps(o);return}let n=this._autoAllocateChunkSize;if(n!==void 0){let i;try{i=new ArrayBuffer(n)}catch(a){t._errorSteps(a);return}let o={buffer:i,bufferByteLength:n,byteOffset:0,byteLength:n,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(o)}Lf(r,t),Nt(this)}};Object.defineProperties(it.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof q.toStringTag=="symbol"&&Object.defineProperty(it.prototype,q.toStringTag,{value:"ReadableByteStreamController",configurable:!0});function Ft(e){return!ae(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")?!1:e instanceof it}function sa(e){return!ae(e)||!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")?!1:e instanceof Lt}function Nt(e){if(!Tw(e))return;if(e._pulling){e._pullAgain=!0;return}e._pulling=!0;let r=e._pullAlgorithm();Ee(r,()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,Nt(e))},n=>{Te(e,n)})}function Vf(e){ua(e),e._pendingPullIntos=new he}function la(e,t){let r=!1;e._state==="closed"&&(r=!0);let n=Gf(t);t.readerType==="default"?na(e,n,r):Pw(e,n,r)}function Gf(e){let t=e.bytesFilled,r=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,t/r)}function Yn(e,t,r,n){e._queue.push({buffer:t,byteOffset:r,byteLength:n}),e._queueTotalSize+=n}function Yf(e,t){let r=t.elementSize,n=t.bytesFilled-t.bytesFilled%r,i=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),o=t.bytesFilled+i,a=o-o%r,s=i,l=!1;a>n&&(s=a-t.bytesFilled,l=!0);let u=e._queue;for(;s>0;){let d=u.peek(),c=Math.min(s,d.byteLength),w=t.byteOffset+t.bytesFilled;$f(t.buffer,w,d.buffer,d.byteOffset,c),d.byteLength===c?u.shift():(d.byteOffset+=c,d.byteLength-=c),e._queueTotalSize-=c,Qf(e,c,t),s-=c}return l}function Qf(e,t,r){r.bytesFilled+=t}function Kf(e){e._queueTotalSize===0&&e._closeRequested?(Kn(e),tn(e._controlledReadableByteStream)):Nt(e)}function ua(e){e._byobRequest!==null&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function Jf(e){for(;e._pendingPullIntos.length>0;){if(e._queueTotalSize===0)return;let t=e._pendingPullIntos.peek();Yf(e,t)&&(Qn(e),la(e._controlledReadableByteStream,t))}}function Sw(e,t,r){let n=e._controlledReadableByteStream,i=1;t.constructor!==DataView&&(i=t.constructor.BYTES_PER_ELEMENT);let o=t.constructor,a=t.buffer,s={buffer:a,bufferByteLength:a.byteLength,byteOffset:t.byteOffset,byteLength:t.byteLength,bytesFilled:0,elementSize:i,viewConstructor:o,readerType:"byob"};if(e._pendingPullIntos.length>0){e._pendingPullIntos.push(s),rd(n,r);return}if(n._state==="closed"){let l=new o(s.buffer,s.byteOffset,0);r._closeSteps(l);return}if(e._queueTotalSize>0){if(Yf(e,s)){let l=Gf(s);Kf(e),r._chunkSteps(l);return}if(e._closeRequested){let l=new TypeError("Insufficient bytes to fill elements in the given buffer");Te(e,l),r._errorSteps(l);return}}e._pendingPullIntos.push(s),rd(n,r),Nt(e)}function Ew(e,t){let r=e._controlledReadableByteStream;if(ca(r))for(;nd(r)>0;){let n=Qn(e);la(r,n)}}function Rw(e,t,r){if(Qf(e,t,r),r.bytesFilled<r.elementSize)return;Qn(e);let n=r.bytesFilled%r.elementSize;if(n>0){let i=r.byteOffset+r.bytesFilled,o=zf(r.buffer,i-n,i);Yn(e,o,0,o.byteLength)}r.bytesFilled-=n,la(e._controlledReadableByteStream,r),Jf(e)}function Xf(e,t){let r=e._pendingPullIntos.peek();ua(e),e._controlledReadableByteStream._state==="closed"?Ew(e):Rw(e,t,r),Nt(e)}function Qn(e){return e._pendingPullIntos.shift()}function Tw(e){let t=e._controlledReadableByteStream;return t._state!=="readable"||e._closeRequested||!e._started?!1:!!(Ff(t)&&Hn(t)>0||ca(t)&&nd(t)>0||Zf(e)>0)}function Kn(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function Qr(e){let t=e._controlledReadableByteStream;if(!(e._closeRequested||t._state!=="readable")){if(e._queueTotalSize>0){e._closeRequested=!0;return}if(e._pendingPullIntos.length>0&&e._pendingPullIntos.peek().bytesFilled>0){let n=new TypeError("Insufficient bytes to fill elements in the given buffer");throw Te(e,n),n}Kn(e),tn(t)}}function Jn(e,t){let r=e._controlledReadableByteStream;if(e._closeRequested||r._state!=="readable")return;let n=t.buffer,i=t.byteOffset,o=t.byteLength,a=n;if(e._pendingPullIntos.length>0){let s=e._pendingPullIntos.peek();Gn(s.buffer),s.buffer=s.buffer}if(ua(e),Ff(r))if(Hn(r)===0)Yn(e,a,i,o);else{e._pendingPullIntos.length>0&&Qn(e);let s=new Uint8Array(a,i,o);na(r,s,!1)}else ca(r)?(Yn(e,a,i,o),Jf(e)):Yn(e,a,i,o);Nt(e)}function Te(e,t){let r=e._controlledReadableByteStream;r._state==="readable"&&(Vf(e),nt(e),Kn(e),Pd(r,t))}function fa(e){if(e._byobRequest===null&&e._pendingPullIntos.length>0){let t=e._pendingPullIntos.peek(),r=new Uint8Array(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),n=Object.create(Lt.prototype);Cw(n,e,r),e._byobRequest=n}return e._byobRequest}function Zf(e){let t=e._controlledReadableByteStream._state;return t==="errored"?null:t==="closed"?0:e._strategyHWM-e._queueTotalSize}function Xn(e,t){let r=e._pendingPullIntos.peek();if(e._controlledReadableByteStream._state==="closed"){if(t!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(t===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(r.bytesFilled+t>r.byteLength)throw new RangeError("bytesWritten out of range")}r.buffer=r.buffer,Xf(e,t)}function Zn(e,t){let r=e._pendingPullIntos.peek();if(e._controlledReadableByteStream._state==="closed"){if(t.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(t.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(r.byteOffset+r.bytesFilled!==t.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(r.bufferByteLength!==t.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(r.bytesFilled+t.byteLength>r.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");let i=t.byteLength;r.buffer=t.buffer,Xf(e,i)}function ed(e,t,r,n,i,o,a){t._controlledReadableByteStream=e,t._pullAgain=!1,t._pulling=!1,t._byobRequest=null,t._queue=t._queueTotalSize=void 0,nt(t),t._closeRequested=!1,t._started=!1,t._strategyHWM=o,t._pullAlgorithm=n,t._cancelAlgorithm=i,t._autoAllocateChunkSize=a,t._pendingPullIntos=new he,e._readableStreamController=t;let s=r();Ee(W(s),()=>{t._started=!0,Nt(t)},l=>{Te(t,l)})}function Aw(e,t,r){let n=Object.create(it.prototype),i=()=>{},o=()=>W(void 0),a=()=>W(void 0);t.start!==void 0&&(i=()=>t.start(n)),t.pull!==void 0&&(o=()=>t.pull(n)),t.cancel!==void 0&&(a=l=>t.cancel(l));let s=t.autoAllocateChunkSize;if(s===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");ed(e,n,i,o,a,r,s)}function Cw(e,t,r){e._associatedReadableByteStreamController=t,e._view=r}function da(e){return new TypeError(`ReadableStreamBYOBRequest.prototype.${e} can only be used on a ReadableStreamBYOBRequest`)}function Kr(e){return new TypeError(`ReadableByteStreamController.prototype.${e} can only be used on a ReadableByteStreamController`)}function td(e){return new Dt(e)}function rd(e,t){e._reader._readIntoRequests.push(t)}function Pw(e,t,r){let i=e._reader._readIntoRequests.shift();r?i._closeSteps(t):i._chunkSteps(t)}function nd(e){return e._reader._readIntoRequests.length}function ca(e){let t=e._reader;return!(t===void 0||!Mt(t))}var Dt=class{constructor(t){if(Ye(t,1,"ReadableStreamBYOBReader"),ra(t,"First parameter"),ut(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!Ft(t._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");Pf(this,t),this._readIntoRequests=new he}get closed(){return Mt(this)?this._closedPromise:T(ei("closed"))}cancel(t=void 0){return Mt(this)?this._ownerReadableStream===void 0?T(gr("cancel")):Qo(this,t):T(ei("cancel"))}read(t){if(!Mt(this))return T(ei("read"));if(!ArrayBuffer.isView(t))return T(new TypeError("view must be an array buffer view"));if(t.byteLength===0)return T(new TypeError("view must have non-zero byteLength"));if(t.buffer.byteLength===0)return T(new TypeError("view's buffer must have non-zero byteLength"));if(Gn(t.buffer),this._ownerReadableStream===void 0)return T(gr("read from"));let r,n,i=re((a,s)=>{r=a,n=s});return id(this,t,{_chunkSteps:a=>r({value:a,done:!1}),_closeSteps:a=>r({value:a,done:!0}),_errorSteps:a=>n(a)}),i}releaseLock(){if(!Mt(this))throw ei("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");Ve(this)}}};Object.defineProperties(Dt.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof q.toStringTag=="symbol"&&Object.defineProperty(Dt.prototype,q.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});function Mt(e){return!ae(e)||!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")?!1:e instanceof Dt}function id(e,t,r){let n=e._ownerReadableStream;n._disturbed=!0,n._state==="errored"?r._errorSteps(n._storedError):Sw(n._readableStreamController,t,r)}function ei(e){return new TypeError(`ReadableStreamBYOBReader.prototype.${e} can only be used on a ReadableStreamBYOBReader`)}function Jr(e,t){let{highWaterMark:r}=e;if(r===void 0)return t;if(Uf(r)||r<0)throw new RangeError("Invalid highWaterMark");return r}function ti(e){let{size:t}=e;return t||(()=>1)}function ri(e,t){Ge(e,t);let r=e==null?void 0:e.highWaterMark,n=e==null?void 0:e.size;return{highWaterMark:r===void 0?void 0:ta(r),size:n===void 0?void 0:vw(n,`${t} has member 'size' that`)}}function vw(e,t){return Re(e,t),r=>ta(e(r))}function Iw(e,t){Ge(e,t);let r=e==null?void 0:e.abort,n=e==null?void 0:e.close,i=e==null?void 0:e.start,o=e==null?void 0:e.type,a=e==null?void 0:e.write;return{abort:r===void 0?void 0:Bw(r,e,`${t} has member 'abort' that`),close:n===void 0?void 0:xw(n,e,`${t} has member 'close' that`),start:i===void 0?void 0:kw(i,e,`${t} has member 'start' that`),write:a===void 0?void 0:Ow(a,e,`${t} has member 'write' that`),type:o}}function Bw(e,t,r){return Re(e,r),n=>qt(e,t,[n])}function xw(e,t,r){return Re(e,r),()=>qt(e,t,[])}function kw(e,t,r){return Re(e,r),n=>zn(e,t,[n])}function Ow(e,t,r){return Re(e,r),(n,i)=>qt(e,t,[n,i])}function od(e,t){if(!_r(e))throw new TypeError(`${t} is not a WritableStream.`)}function qw(e){if(typeof e!="object"||e===null)return!1;try{return typeof e.aborted=="boolean"}catch{return!1}}var Ww=typeof AbortController=="function";function Lw(){if(Ww)return new AbortController}var jt=class{constructor(t={},r={}){t===void 0?t=null:Of(t,"First parameter");let n=ri(r,"Second parameter"),i=Iw(t,"First parameter");if(sd(this),i.type!==void 0)throw new RangeError("Invalid type is specified");let a=ti(n),s=Jr(n,1);Kw(this,i,s,a)}get locked(){if(!_r(this))throw si("locked");return mr(this)}abort(t=void 0){return _r(this)?mr(this)?T(new TypeError("Cannot abort a stream that already has a writer")):ni(this,t):T(si("abort"))}close(){return _r(this)?mr(this)?T(new TypeError("Cannot close a stream that already has a writer")):We(this)?T(new TypeError("Cannot close an already-closing stream")):ld(this):T(si("close"))}getWriter(){if(!_r(this))throw si("getWriter");return ad(this)}};Object.defineProperties(jt.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),typeof q.toStringTag=="symbol"&&Object.defineProperty(jt.prototype,q.toStringTag,{value:"WritableStream",configurable:!0});function ad(e){return new Ut(e)}function Fw(e,t,r,n,i=1,o=()=>1){let a=Object.create(jt.prototype);sd(a);let s=Object.create(ot.prototype);return pd(a,s,e,t,r,n,i,o),a}function sd(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new he,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function _r(e){return!ae(e)||!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")?!1:e instanceof jt}function mr(e){return e._writer!==void 0}function ni(e,t){var r;if(e._state==="closed"||e._state==="errored")return W(void 0);e._writableStreamController._abortReason=t,(r=e._writableStreamController._abortController)===null||r===void 0||r.abort();let n=e._state;if(n==="closed"||n==="errored")return W(void 0);if(e._pendingAbortRequest!==void 0)return e._pendingAbortRequest._promise;let i=!1;n==="erroring"&&(i=!0,t=void 0);let o=re((a,s)=>{e._pendingAbortRequest={_promise:void 0,_resolve:a,_reject:s,_reason:t,_wasAlreadyErroring:i}});return e._pendingAbortRequest._promise=o,i||pa(e,t),o}function ld(e){let t=e._state;if(t==="closed"||t==="errored")return T(new TypeError(`The stream (in ${t} state) is not in the writable state and cannot be closed`));let r=re((i,o)=>{let a={_resolve:i,_reject:o};e._closeRequest=a}),n=e._writer;return n!==void 0&&e._backpressure&&t==="writable"&&Ra(n),Jw(e._writableStreamController),r}function Nw(e){return re((r,n)=>{let i={_resolve:r,_reject:n};e._writeRequests.push(i)})}function ha(e,t){if(e._state==="writable"){pa(e,t);return}ba(e)}function pa(e,t){let r=e._writableStreamController;e._state="erroring",e._storedError=t;let n=e._writer;n!==void 0&&fd(n,t),!$w(e)&&r._started&&ba(e)}function ba(e){e._state="errored",e._writableStreamController[xf]();let t=e._storedError;if(e._writeRequests.forEach(i=>{i._reject(t)}),e._writeRequests=new he,e._pendingAbortRequest===void 0){ii(e);return}let r=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,r._wasAlreadyErroring){r._reject(t),ii(e);return}let n=e._writableStreamController[Bf](r._reason);Ee(n,()=>{r._resolve(),ii(e)},i=>{r._reject(i),ii(e)})}function Dw(e){e._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0}function Mw(e,t){e._inFlightWriteRequest._reject(t),e._inFlightWriteRequest=void 0,ha(e,t)}function jw(e){e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0,e._state==="erroring"&&(e._storedError=void 0,e._pendingAbortRequest!==void 0&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed";let r=e._writer;r!==void 0&&wd(r)}function Uw(e,t){e._inFlightCloseRequest._reject(t),e._inFlightCloseRequest=void 0,e._pendingAbortRequest!==void 0&&(e._pendingAbortRequest._reject(t),e._pendingAbortRequest=void 0),ha(e,t)}function We(e){return!(e._closeRequest===void 0&&e._inFlightCloseRequest===void 0)}function $w(e){return!(e._inFlightWriteRequest===void 0&&e._inFlightCloseRequest===void 0)}function zw(e){e._inFlightCloseRequest=e._closeRequest,e._closeRequest=void 0}function Hw(e){e._inFlightWriteRequest=e._writeRequests.shift()}function ii(e){e._closeRequest!==void 0&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);let t=e._writer;t!==void 0&&Sa(t,e._storedError)}function ya(e,t){let r=e._writer;r!==void 0&&t!==e._backpressure&&(t?i_(r):Ra(r)),e._backpressure=t}var Ut=class{constructor(t){if(Ye(t,1,"WritableStreamDefaultWriter"),od(t,"First parameter"),mr(t))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=t,t._writer=this;let r=t._state;if(r==="writable")!We(t)&&t._backpressure?ui(this):_d(this),li(this);else if(r==="erroring")Ea(this,t._storedError),li(this);else if(r==="closed")_d(this),r_(this);else{let n=t._storedError;Ea(this,n),gd(this,n)}}get closed(){return $t(this)?this._closedPromise:T(zt("closed"))}get desiredSize(){if(!$t(this))throw zt("desiredSize");if(this._ownerWritableStream===void 0)throw Xr("desiredSize");return Qw(this)}get ready(){return $t(this)?this._readyPromise:T(zt("ready"))}abort(t=void 0){return $t(this)?this._ownerWritableStream===void 0?T(Xr("abort")):Vw(this,t):T(zt("abort"))}close(){if(!$t(this))return T(zt("close"));let t=this._ownerWritableStream;return t===void 0?T(Xr("close")):We(t)?T(new TypeError("Cannot close an already-closing stream")):ud(this)}releaseLock(){if(!$t(this))throw zt("releaseLock");this._ownerWritableStream!==void 0&&dd(this)}write(t=void 0){return $t(this)?this._ownerWritableStream===void 0?T(Xr("write to")):cd(this,t):T(zt("write"))}};Object.defineProperties(Ut.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),typeof q.toStringTag=="symbol"&&Object.defineProperty(Ut.prototype,q.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});function $t(e){return!ae(e)||!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")?!1:e instanceof Ut}function Vw(e,t){let r=e._ownerWritableStream;return ni(r,t)}function ud(e){let t=e._ownerWritableStream;return ld(t)}function Gw(e){let t=e._ownerWritableStream,r=t._state;return We(t)||r==="closed"?W(void 0):r==="errored"?T(t._storedError):ud(e)}function Yw(e,t){e._closedPromiseState==="pending"?Sa(e,t):n_(e,t)}function fd(e,t){e._readyPromiseState==="pending"?md(e,t):o_(e,t)}function Qw(e){let t=e._ownerWritableStream,r=t._state;return r==="errored"||r==="erroring"?null:r==="closed"?0:bd(t._writableStreamController)}function dd(e){let t=e._ownerWritableStream,r=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");fd(e,r),Yw(e,r),t._writer=void 0,e._ownerWritableStream=void 0}function cd(e,t){let r=e._ownerWritableStream,n=r._writableStreamController,i=Xw(n,t);if(r!==e._ownerWritableStream)return T(Xr("write to"));let o=r._state;if(o==="errored")return T(r._storedError);if(We(r)||o==="closed")return T(new TypeError("The stream is closing or closed and cannot be written to"));if(o==="erroring")return T(r._storedError);let a=Nw(r);return Zw(n,t,i),a}var hd={},ot=class{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!ga(this))throw ma("abortReason");return this._abortReason}get signal(){if(!ga(this))throw ma("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(t=void 0){if(!ga(this))throw ma("error");this._controlledWritableStream._state==="writable"&&yd(this,t)}[Bf](t){let r=this._abortAlgorithm(t);return oi(this),r}[xf](){nt(this)}};Object.defineProperties(ot.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof q.toStringTag=="symbol"&&Object.defineProperty(ot.prototype,q.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});function ga(e){return!ae(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream")?!1:e instanceof ot}function pd(e,t,r,n,i,o,a,s){t._controlledWritableStream=e,e._writableStreamController=t,t._queue=void 0,t._queueTotalSize=void 0,nt(t),t._abortReason=void 0,t._abortController=Lw(),t._started=!1,t._strategySizeAlgorithm=s,t._strategyHWM=a,t._writeAlgorithm=n,t._closeAlgorithm=i,t._abortAlgorithm=o;let l=_a(t);ya(e,l);let u=r(),d=W(u);Ee(d,()=>{t._started=!0,ai(t)},c=>{t._started=!0,ha(e,c)})}function Kw(e,t,r,n){let i=Object.create(ot.prototype),o=()=>{},a=()=>W(void 0),s=()=>W(void 0),l=()=>W(void 0);t.start!==void 0&&(o=()=>t.start(i)),t.write!==void 0&&(a=u=>t.write(u,i)),t.close!==void 0&&(s=()=>t.close()),t.abort!==void 0&&(l=u=>t.abort(u)),pd(e,i,o,a,s,l,r,n)}function oi(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function Jw(e){aa(e,hd,0),ai(e)}function Xw(e,t){try{return e._strategySizeAlgorithm(t)}catch(r){return wa(e,r),1}}function bd(e){return e._strategyHWM-e._queueTotalSize}function Zw(e,t,r){try{aa(e,t,r)}catch(i){wa(e,i);return}let n=e._controlledWritableStream;if(!We(n)&&n._state==="writable"){let i=_a(e);ya(n,i)}ai(e)}function ai(e){let t=e._controlledWritableStream;if(!e._started||t._inFlightWriteRequest!==void 0)return;if(t._state==="erroring"){ba(t);return}if(e._queue.length===0)return;let n=mw(e);n===hd?e_(e):t_(e,n)}function wa(e,t){e._controlledWritableStream._state==="writable"&&yd(e,t)}function e_(e){let t=e._controlledWritableStream;zw(t),oa(e);let r=e._closeAlgorithm();oi(e),Ee(r,()=>{jw(t)},n=>{Uw(t,n)})}function t_(e,t){let r=e._controlledWritableStream;Hw(r);let n=e._writeAlgorithm(t);Ee(n,()=>{Dw(r);let i=r._state;if(oa(e),!We(r)&&i==="writable"){let o=_a(e);ya(r,o)}ai(e)},i=>{r._state==="writable"&&oi(e),Mw(r,i)})}function _a(e){return bd(e)<=0}function yd(e,t){let r=e._controlledWritableStream;oi(e),pa(r,t)}function si(e){return new TypeError(`WritableStream.prototype.${e} can only be used on a WritableStream`)}function ma(e){return new TypeError(`WritableStreamDefaultController.prototype.${e} can only be used on a WritableStreamDefaultController`)}function zt(e){return new TypeError(`WritableStreamDefaultWriter.prototype.${e} can only be used on a WritableStreamDefaultWriter`)}function Xr(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function li(e){e._closedPromise=re((t,r)=>{e._closedPromise_resolve=t,e._closedPromise_reject=r,e._closedPromiseState="pending"})}function gd(e,t){li(e),Sa(e,t)}function r_(e){li(e),wd(e)}function Sa(e,t){e._closedPromise_reject!==void 0&&(Vr(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected")}function n_(e,t){gd(e,t)}function wd(e){e._closedPromise_resolve!==void 0&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved")}function ui(e){e._readyPromise=re((t,r)=>{e._readyPromise_resolve=t,e._readyPromise_reject=r}),e._readyPromiseState="pending"}function Ea(e,t){ui(e),md(e,t)}function _d(e){ui(e),Ra(e)}function md(e,t){e._readyPromise_reject!==void 0&&(Vr(e._readyPromise),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected")}function i_(e){ui(e)}function o_(e,t){Ea(e,t)}function Ra(e){e._readyPromise_resolve!==void 0&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled")}var Sd=typeof DOMException!="undefined"?DOMException:void 0;function a_(e){if(!(typeof e=="function"||typeof e=="object"))return!1;try{return new e,!0}catch{return!1}}function s_(){let e=function(r,n){this.message=r||"",this.name=n||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return e.prototype=Object.create(Error.prototype),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0}),e}var l_=a_(Sd)?Sd:s_();function Ed(e,t,r,n,i,o){let a=wr(e),s=ad(t);e._disturbed=!0;let l=!1,u=W(void 0);return re((d,c)=>{let w;if(o!==void 0){if(w=()=>{let g=new l_("Aborted","AbortError"),A=[];n||A.push(()=>t._state==="writable"?ni(t,g):W(void 0)),i||A.push(()=>e._state==="readable"?Ae(e,g):W(void 0)),P(()=>Promise.all(A.map(I=>I())),!0,g)},o.aborted){w();return}o.addEventListener("abort",w)}function b(){return re((g,A)=>{function I(H){H?g():He(C(),I,A)}I(!1)})}function C(){return l?W(!0):He(s._readyPromise,()=>re((g,A)=>{Gr(a,{_chunkSteps:I=>{u=He(cd(s,I),void 0,Ho),g(!1)},_closeSteps:()=>g(!0),_errorSteps:A})}))}if(v(e,a._closedPromise,g=>{n?x(!0,g):P(()=>ni(t,g),!0,g)}),v(t,s._closedPromise,g=>{i?x(!0,g):P(()=>Ae(e,g),!0,g)}),S(e,a._closedPromise,()=>{r?x():P(()=>Gw(s))}),We(t)||t._state==="closed"){let g=new TypeError("the destination writable stream closed before all data could be piped to it");i?x(!0,g):P(()=>Ae(e,g),!0,g)}Vr(b());function y(){let g=u;return He(u,()=>g!==u?y():void 0)}function v(g,A,I){g._state==="errored"?I(g._storedError):Yo(A,I)}function S(g,A,I){g._state==="closed"?I():Go(A,I)}function P(g,A,I){if(l)return;l=!0,t._state==="writable"&&!We(t)?Go(y(),H):H();function H(){Ee(g(),()=>R(A,I),U=>R(!0,U))}}function x(g,A){l||(l=!0,t._state==="writable"&&!We(t)?Go(y(),()=>R(g,A)):R(g,A))}function R(g,A){dd(s),Ve(a),o!==void 0&&o.removeEventListener("abort",w),g?c(A):d(void 0)}})}var at=class{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!fi(this))throw hi("desiredSize");return Ta(this)}close(){if(!fi(this))throw hi("close");if(!Sr(this))throw new TypeError("The stream is not in a state that permits close");en(this)}enqueue(t=void 0){if(!fi(this))throw hi("enqueue");if(!Sr(this))throw new TypeError("The stream is not in a state that permits enqueue");return ci(this,t)}error(t=void 0){if(!fi(this))throw hi("error");st(this,t)}[Xo](t){nt(this);let r=this._cancelAlgorithm(t);return di(this),r}[Zo](t){let r=this._controlledReadableStream;if(this._queue.length>0){let n=oa(this);this._closeRequested&&this._queue.length===0?(di(this),tn(r)):Zr(this),t._chunkSteps(n)}else Lf(r,t),Zr(this)}};Object.defineProperties(at.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof q.toStringTag=="symbol"&&Object.defineProperty(at.prototype,q.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});function fi(e){return!ae(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")?!1:e instanceof at}function Zr(e){if(!Rd(e))return;if(e._pulling){e._pullAgain=!0;return}e._pulling=!0;let r=e._pullAlgorithm();Ee(r,()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,Zr(e))},n=>{st(e,n)})}function Rd(e){let t=e._controlledReadableStream;return!Sr(e)||!e._started?!1:!!(ut(t)&&Hn(t)>0||Ta(e)>0)}function di(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function en(e){if(!Sr(e))return;let t=e._controlledReadableStream;e._closeRequested=!0,e._queue.length===0&&(di(e),tn(t))}function ci(e,t){if(!Sr(e))return;let r=e._controlledReadableStream;if(ut(r)&&Hn(r)>0)na(r,t,!1);else{let n;try{n=e._strategySizeAlgorithm(t)}catch(i){throw st(e,i),i}try{aa(e,t,n)}catch(i){throw st(e,i),i}}Zr(e)}function st(e,t){let r=e._controlledReadableStream;r._state==="readable"&&(nt(e),di(e),Pd(r,t))}function Ta(e){let t=e._controlledReadableStream._state;return t==="errored"?null:t==="closed"?0:e._strategyHWM-e._queueTotalSize}function u_(e){return!Rd(e)}function Sr(e){let t=e._controlledReadableStream._state;return!e._closeRequested&&t==="readable"}function Td(e,t,r,n,i,o,a){t._controlledReadableStream=e,t._queue=void 0,t._queueTotalSize=void 0,nt(t),t._started=!1,t._closeRequested=!1,t._pullAgain=!1,t._pulling=!1,t._strategySizeAlgorithm=a,t._strategyHWM=o,t._pullAlgorithm=n,t._cancelAlgorithm=i,e._readableStreamController=t;let s=r();Ee(W(s),()=>{t._started=!0,Zr(t)},l=>{st(t,l)})}function f_(e,t,r,n){let i=Object.create(at.prototype),o=()=>{},a=()=>W(void 0),s=()=>W(void 0);t.start!==void 0&&(o=()=>t.start(i)),t.pull!==void 0&&(a=()=>t.pull(i)),t.cancel!==void 0&&(s=l=>t.cancel(l)),Td(e,i,o,a,s,r,n)}function hi(e){return new TypeError(`ReadableStreamDefaultController.prototype.${e} can only be used on a ReadableStreamDefaultController`)}function d_(e,t){return Ft(e._readableStreamController)?h_(e):c_(e)}function c_(e,t){let r=wr(e),n=!1,i=!1,o=!1,a=!1,s,l,u,d,c,w=re(S=>{c=S});function b(){return n?(i=!0,W(void 0)):(n=!0,Gr(r,{_chunkSteps:P=>{$n(()=>{i=!1;let x=P,R=P;o||ci(u._readableStreamController,x),a||ci(d._readableStreamController,R),n=!1,i&&b()})},_closeSteps:()=>{n=!1,o||en(u._readableStreamController),a||en(d._readableStreamController),(!o||!a)&&c(void 0)},_errorSteps:()=>{n=!1}}),W(void 0))}function C(S){if(o=!0,s=S,a){let P=Yr([s,l]),x=Ae(e,P);c(x)}return w}function y(S){if(a=!0,l=S,o){let P=Yr([s,l]),x=Ae(e,P);c(x)}return w}function v(){}return u=Aa(v,b,C),d=Aa(v,b,y),Yo(r._closedPromise,S=>{st(u._readableStreamController,S),st(d._readableStreamController,S),(!o||!a)&&c(void 0)}),[u,d]}function h_(e){let t=wr(e),r=!1,n=!1,i=!1,o=!1,a=!1,s,l,u,d,c,w=re(g=>{c=g});function b(g){Yo(g._closedPromise,A=>{g===t&&(Te(u._readableStreamController,A),Te(d._readableStreamController,A),(!o||!a)&&c(void 0))})}function C(){Mt(t)&&(Ve(t),t=wr(e),b(t)),Gr(t,{_chunkSteps:A=>{$n(()=>{n=!1,i=!1;let I=A,H=A;if(!o&&!a)try{H=Hf(A)}catch(U){Te(u._readableStreamController,U),Te(d._readableStreamController,U),c(Ae(e,U));return}o||Jn(u._readableStreamController,I),a||Jn(d._readableStreamController,H),r=!1,n?v():i&&S()})},_closeSteps:()=>{r=!1,o||Qr(u._readableStreamController),a||Qr(d._readableStreamController),u._readableStreamController._pendingPullIntos.length>0&&Xn(u._readableStreamController,0),d._readableStreamController._pendingPullIntos.length>0&&Xn(d._readableStreamController,0),(!o||!a)&&c(void 0)},_errorSteps:()=>{r=!1}})}function y(g,A){rt(t)&&(Ve(t),t=td(e),b(t));let I=A?d:u,H=A?u:d;id(t,g,{_chunkSteps:V=>{$n(()=>{n=!1,i=!1;let ue=A?a:o;if(A?o:a)ue||Zn(I._readableStreamController,V);else{let se;try{se=Hf(V)}catch(Cr){Te(I._readableStreamController,Cr),Te(H._readableStreamController,Cr),c(Ae(e,Cr));return}ue||Zn(I._readableStreamController,V),Jn(H._readableStreamController,se)}r=!1,n?v():i&&S()})},_closeSteps:V=>{r=!1;let ue=A?a:o,Qe=A?o:a;ue||Qr(I._readableStreamController),Qe||Qr(H._readableStreamController),V!==void 0&&(ue||Zn(I._readableStreamController,V),!Qe&&H._readableStreamController._pendingPullIntos.length>0&&Xn(H._readableStreamController,0)),(!ue||!Qe)&&c(void 0)},_errorSteps:()=>{r=!1}})}function v(){if(r)return n=!0,W(void 0);r=!0;let g=fa(u._readableStreamController);return g===null?C():y(g._view,!1),W(void 0)}function S(){if(r)return i=!0,W(void 0);r=!0;let g=fa(d._readableStreamController);return g===null?C():y(g._view,!0),W(void 0)}function P(g){if(o=!0,s=g,a){let A=Yr([s,l]),I=Ae(e,A);c(I)}return w}function x(g){if(a=!0,l=g,o){let A=Yr([s,l]),I=Ae(e,A);c(I)}return w}function R(){}return u=Cd(R,v,P),d=Cd(R,S,x),b(t),[u,d]}function p_(e,t){Ge(e,t);let r=e,n=r==null?void 0:r.autoAllocateChunkSize,i=r==null?void 0:r.cancel,o=r==null?void 0:r.pull,a=r==null?void 0:r.start,s=r==null?void 0:r.type;return{autoAllocateChunkSize:n===void 0?void 0:Wf(n,`${t} has member 'autoAllocateChunkSize' that`),cancel:i===void 0?void 0:b_(i,r,`${t} has member 'cancel' that`),pull:o===void 0?void 0:y_(o,r,`${t} has member 'pull' that`),start:a===void 0?void 0:g_(a,r,`${t} has member 'start' that`),type:s===void 0?void 0:w_(s,`${t} has member 'type' that`)}}function b_(e,t,r){return Re(e,r),n=>qt(e,t,[n])}function y_(e,t,r){return Re(e,r),n=>qt(e,t,[n])}function g_(e,t,r){return Re(e,r),n=>zn(e,t,[n])}function w_(e,t){if(e=`${e}`,e!=="bytes")throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamType`);return e}function __(e,t){Ge(e,t);let r=e==null?void 0:e.mode;return{mode:r===void 0?void 0:m_(r,`${t} has member 'mode' that`)}}function m_(e,t){if(e=`${e}`,e!=="byob")throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamReaderMode`);return e}function S_(e,t){Ge(e,t);let r=e==null?void 0:e.preventCancel;return{preventCancel:Boolean(r)}}function Ad(e,t){Ge(e,t);let r=e==null?void 0:e.preventAbort,n=e==null?void 0:e.preventCancel,i=e==null?void 0:e.preventClose,o=e==null?void 0:e.signal;return o!==void 0&&E_(o,`${t} has member 'signal' that`),{preventAbort:Boolean(r),preventCancel:Boolean(n),preventClose:Boolean(i),signal:o}}function E_(e,t){if(!qw(e))throw new TypeError(`${t} is not an AbortSignal.`)}function R_(e,t){Ge(e,t);let r=e==null?void 0:e.readable;ea(r,"readable","ReadableWritablePair"),ra(r,`${t} has member 'readable' that`);let n=e==null?void 0:e.writable;return ea(n,"writable","ReadableWritablePair"),od(n,`${t} has member 'writable' that`),{readable:r,writable:n}}var Le=class{constructor(t={},r={}){t===void 0?t=null:Of(t,"First parameter");let n=ri(r,"Second parameter"),i=p_(t,"First parameter");if(Ca(this),i.type==="bytes"){if(n.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");let o=Jr(n,0);Aw(this,i,o)}else{let o=ti(n),a=Jr(n,1);f_(this,i,a,o)}}get locked(){if(!lt(this))throw Ht("locked");return ut(this)}cancel(t=void 0){return lt(this)?ut(this)?T(new TypeError("Cannot cancel a stream that already has a reader")):Ae(this,t):T(Ht("cancel"))}getReader(t=void 0){if(!lt(this))throw Ht("getReader");return __(t,"First parameter").mode===void 0?wr(this):td(this)}pipeThrough(t,r={}){if(!lt(this))throw Ht("pipeThrough");Ye(t,1,"pipeThrough");let n=R_(t,"First parameter"),i=Ad(r,"Second parameter");if(ut(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(mr(n.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");let o=Ed(this,n.writable,i.preventClose,i.preventAbort,i.preventCancel,i.signal);return Vr(o),n.readable}pipeTo(t,r={}){if(!lt(this))return T(Ht("pipeTo"));if(t===void 0)return T("Parameter 1 is required in 'pipeTo'.");if(!_r(t))return T(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let n;try{n=Ad(r,"Second parameter")}catch(i){return T(i)}return ut(this)?T(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):mr(t)?T(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Ed(this,t,n.preventClose,n.preventAbort,n.preventCancel,n.signal)}tee(){if(!lt(this))throw Ht("tee");let t=d_(this);return Yr(t)}values(t=void 0){if(!lt(this))throw Ht("values");let r=S_(t,"First parameter");return ww(this,r.preventCancel)}};Object.defineProperties(Le.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),typeof q.toStringTag=="symbol"&&Object.defineProperty(Le.prototype,q.toStringTag,{value:"ReadableStream",configurable:!0}),typeof q.asyncIterator=="symbol"&&Object.defineProperty(Le.prototype,q.asyncIterator,{value:Le.prototype.values,writable:!0,configurable:!0});function Aa(e,t,r,n=1,i=()=>1){let o=Object.create(Le.prototype);Ca(o);let a=Object.create(at.prototype);return Td(o,a,e,t,r,n,i),o}function Cd(e,t,r){let n=Object.create(Le.prototype);Ca(n);let i=Object.create(it.prototype);return ed(n,i,e,t,r,0,void 0),n}function Ca(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function lt(e){return!ae(e)||!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")?!1:e instanceof Le}function ut(e){return e._reader!==void 0}function Ae(e,t){if(e._disturbed=!0,e._state==="closed")return W(void 0);if(e._state==="errored")return T(e._storedError);tn(e);let r=e._reader;r!==void 0&&Mt(r)&&(r._readIntoRequests.forEach(i=>{i._closeSteps(void 0)}),r._readIntoRequests=new he);let n=e._readableStreamController[Xo](t);return Ot(n,Ho)}function tn(e){e._state="closed";let t=e._reader;t!==void 0&&(If(t),rt(t)&&(t._readRequests.forEach(r=>{r._closeSteps()}),t._readRequests=new he))}function Pd(e,t){e._state="errored",e._storedError=t;let r=e._reader;r!==void 0&&(Jo(r,t),rt(r)?(r._readRequests.forEach(n=>{n._errorSteps(t)}),r._readRequests=new he):(r._readIntoRequests.forEach(n=>{n._errorSteps(t)}),r._readIntoRequests=new he))}function Ht(e){return new TypeError(`ReadableStream.prototype.${e} can only be used on a ReadableStream`)}function vd(e,t){Ge(e,t);let r=e==null?void 0:e.highWaterMark;return ea(r,"highWaterMark","QueuingStrategyInit"),{highWaterMark:ta(r)}}var Id=e=>e.byteLength;try{Object.defineProperty(Id,"name",{value:"size",configurable:!0})}catch{}var Er=class{constructor(t){Ye(t,1,"ByteLengthQueuingStrategy"),t=vd(t,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=t.highWaterMark}get highWaterMark(){if(!xd(this))throw Bd("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!xd(this))throw Bd("size");return Id}};Object.defineProperties(Er.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof q.toStringTag=="symbol"&&Object.defineProperty(Er.prototype,q.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});function Bd(e){return new TypeError(`ByteLengthQueuingStrategy.prototype.${e} can only be used on a ByteLengthQueuingStrategy`)}function xd(e){return!ae(e)||!Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark")?!1:e instanceof Er}var kd=()=>1;try{Object.defineProperty(kd,"name",{value:"size",configurable:!0})}catch{}var Rr=class{constructor(t){Ye(t,1,"CountQueuingStrategy"),t=vd(t,"First parameter"),this._countQueuingStrategyHighWaterMark=t.highWaterMark}get highWaterMark(){if(!qd(this))throw Od("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!qd(this))throw Od("size");return kd}};Object.defineProperties(Rr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof q.toStringTag=="symbol"&&Object.defineProperty(Rr.prototype,q.toStringTag,{value:"CountQueuingStrategy",configurable:!0});function Od(e){return new TypeError(`CountQueuingStrategy.prototype.${e} can only be used on a CountQueuingStrategy`)}function qd(e){return!ae(e)||!Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark")?!1:e instanceof Rr}function T_(e,t){Ge(e,t);let r=e==null?void 0:e.flush,n=e==null?void 0:e.readableType,i=e==null?void 0:e.start,o=e==null?void 0:e.transform,a=e==null?void 0:e.writableType;return{flush:r===void 0?void 0:A_(r,e,`${t} has member 'flush' that`),readableType:n,start:i===void 0?void 0:C_(i,e,`${t} has member 'start' that`),transform:o===void 0?void 0:P_(o,e,`${t} has member 'transform' that`),writableType:a}}function A_(e,t,r){return Re(e,r),n=>qt(e,t,[n])}function C_(e,t,r){return Re(e,r),n=>zn(e,t,[n])}function P_(e,t,r){return Re(e,r),(n,i)=>qt(e,t,[n,i])}var Tr=class{constructor(t={},r={},n={}){t===void 0&&(t=null);let i=ri(r,"Second parameter"),o=ri(n,"Third parameter"),a=T_(t,"First parameter");if(a.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(a.writableType!==void 0)throw new RangeError("Invalid writableType specified");let s=Jr(o,0),l=ti(o),u=Jr(i,1),d=ti(i),c,w=re(b=>{c=b});v_(this,w,u,d,s,l),B_(this,a),a.start!==void 0?c(a.start(this._transformStreamController)):c(void 0)}get readable(){if(!Wd(this))throw Dd("readable");return this._readable}get writable(){if(!Wd(this))throw Dd("writable");return this._writable}};Object.defineProperties(Tr.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof q.toStringTag=="symbol"&&Object.defineProperty(Tr.prototype,q.toStringTag,{value:"TransformStream",configurable:!0});function v_(e,t,r,n,i,o){function a(){return t}function s(w){return O_(e,w)}function l(w){return q_(e,w)}function u(){return W_(e)}e._writable=Fw(a,s,u,l,r,n);function d(){return L_(e)}function c(w){return bi(e,w),W(void 0)}e._readable=Aa(a,d,c,i,o),e._backpressure=void 0,e._backpressureChangePromise=void 0,e._backpressureChangePromise_resolve=void 0,yi(e,!0),e._transformStreamController=void 0}function Wd(e){return!ae(e)||!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")?!1:e instanceof Tr}function pi(e,t){st(e._readable._readableStreamController,t),bi(e,t)}function bi(e,t){Ld(e._transformStreamController),wa(e._writable._writableStreamController,t),e._backpressure&&yi(e,!1)}function yi(e,t){e._backpressureChangePromise!==void 0&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=re(r=>{e._backpressureChangePromise_resolve=r}),e._backpressure=t}var Vt=class{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!gi(this))throw wi("desiredSize");let t=this._controlledTransformStream._readable._readableStreamController;return Ta(t)}enqueue(t=void 0){if(!gi(this))throw wi("enqueue");Fd(this,t)}error(t=void 0){if(!gi(this))throw wi("error");x_(this,t)}terminate(){if(!gi(this))throw wi("terminate");k_(this)}};Object.defineProperties(Vt.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof q.toStringTag=="symbol"&&Object.defineProperty(Vt.prototype,q.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});function gi(e){return!ae(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")?!1:e instanceof Vt}function I_(e,t,r,n){t._controlledTransformStream=e,e._transformStreamController=t,t._transformAlgorithm=r,t._flushAlgorithm=n}function B_(e,t){let r=Object.create(Vt.prototype),n=o=>{try{return Fd(r,o),W(void 0)}catch(a){return T(a)}},i=()=>W(void 0);t.transform!==void 0&&(n=o=>t.transform(o,r)),t.flush!==void 0&&(i=()=>t.flush(r)),I_(e,r,n,i)}function Ld(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0}function Fd(e,t){let r=e._controlledTransformStream,n=r._readable._readableStreamController;if(!Sr(n))throw new TypeError("Readable side is not in a state that permits enqueue");try{ci(n,t)}catch(o){throw bi(r,o),r._readable._storedError}u_(n)!==r._backpressure&&yi(r,!0)}function x_(e,t){pi(e._controlledTransformStream,t)}function Nd(e,t){let r=e._transformAlgorithm(t);return Ot(r,void 0,n=>{throw pi(e._controlledTransformStream,n),n})}function k_(e){let t=e._controlledTransformStream,r=t._readable._readableStreamController;en(r);let n=new TypeError("TransformStream terminated");bi(t,n)}function O_(e,t){let r=e._transformStreamController;if(e._backpressure){let n=e._backpressureChangePromise;return Ot(n,()=>{let i=e._writable;if(i._state==="erroring")throw i._storedError;return Nd(r,t)})}return Nd(r,t)}function q_(e,t){return pi(e,t),W(void 0)}function W_(e){let t=e._readable,r=e._transformStreamController,n=r._flushAlgorithm();return Ld(r),Ot(n,()=>{if(t._state==="errored")throw t._storedError;en(t._readableStreamController)},i=>{throw pi(e,i),t._storedError})}function L_(e){return yi(e,!1),e._backpressureChangePromise}function wi(e){return new TypeError(`TransformStreamDefaultController.prototype.${e} can only be used on a TransformStreamDefaultController`)}function Dd(e){return new TypeError(`TransformStream.prototype.${e} can only be used on a TransformStream`)}var Pa={ReadableStream:Le,ReadableStreamDefaultController:at,ReadableByteStreamController:it,ReadableStreamBYOBRequest:Lt,ReadableStreamDefaultReader:Wt,ReadableStreamBYOBReader:Dt,WritableStream:jt,WritableStreamDefaultController:ot,WritableStreamDefaultWriter:Ut,ByteLengthQueuingStrategy:Er,CountQueuingStrategy:Rr,TransformStream:Tr,TransformStreamDefaultController:Vt};if(typeof globalThis!="undefined")for(let e in Pa)Object.prototype.hasOwnProperty.call(Pa,e)&&Object.defineProperty(globalThis,e,{value:Pa[e],writable:!0,configurable:!0});var Ce,pe,Gt,Yt,be,ie,Fe,ft,dt,_i,Y,ct,Qt,Ba,le,ht,pt,Kt,xa,rn,va=Java.type("java.net.URI"),F_=Java.type("java.net.http.HttpClient"),N_=Java.type("java.net.http.HttpClient.Redirect"),D_=Java.type("java.net.http.HttpRequest"),vm=Java.type("java.net.http.HttpResponse"),Ia=Java.type("java.net.http.HttpRequest.BodyPublishers"),M_=Java.type("java.net.http.HttpResponse.BodyHandlers"),j_=Java.type("java.net.ConnectException"),Md=Java.type("java.lang.String"),U_=Java.type("java.nio.ByteBuffer"),$_=Java.type("java.util.Base64"),z_=Java.type("java.nio.charset.StandardCharsets"),Ar=new Set;Ar.add(":authority"),Ar.add(":method"),Ar.add(":path"),Ar.add(":scheme"),Ar.add(":status");var ka=class{constructor(){Q(this,rn,void 0)}},jd=ka;rn=new WeakMap,(()=>{function t(p){try{let f=new va(p);if(!f.isAbsolute())throw new TypeError("URI is not absolute");if(f.getUserInfo()!=null)throw new TypeError(`${p} is an url with embedded credentials`);return f}catch(f){throw new TypeError("Invalid URL: "+f.message)}}function r(p){let f=/^[\^_`a-zA-Z\-0-9!#$%&'*+.|~]+$/;if(!Ar.has(p)&&!f.test(p))throw new TypeError(`Header name must be a valid HTTP token: [${p}]`);return p}function n(p,f){if(/[^\t\x20-\x7e\x80-\xff]/.exec(f)!==null)throw new TypeError(`Invalid character in header field [${p}: ${f}]`);return f}function i(p){return p.trim()}function o(p){Object.defineProperty(p.prototype,Symbol.toStringTag,{value:p.name,configurable:!0,writable:!0,enumerable:!1})}class a extends ka{constructor(f){super();N(this,rn,f)}}let mi=class{constructor(f,{type:_}={}){Q(this,Ce,0);Q(this,pe,void 0);Q(this,Gt,void 0);Q(this,Yt,void 0);Q(this,be,void 0);if(f instanceof mi)N(this,Ce,m(f,Ce)),N(this,pe,m(f,pe)),N(this,be,m(f,be));else if(f instanceof a){let E=m(f,rn);N(this,Ce,E.length),N(this,pe,E),N(this,be,String(_??"text/plain;charset=utf-8"))}else if(typeof f=="string")N(this,Ce,f.length),N(this,Gt,f),N(this,be,String(_??"text/plain;charset=utf-8"));else if(f instanceof ArrayBuffer)N(this,Ce,f.byteLength),N(this,Yt,f),N(this,be,String(_??"text/plain;charset=utf-8"));else if(f==null)N(this,Ce,0),N(this,be,String(_??""));else throw new TypeError("Unsupported array type")}get size(){return m(this,Ce)}get type(){return m(this,be)}async arrayBuffer(){if(this.size===0)return new ArrayBuffer(0);if(m(this,Yt)!=null)return m(this,Yt);if(m(this,pe)!=null)return new ArrayBuffer(U_.wrap(m(this,pe)));throw new TypeError("Unsupported body type")}async text(){if(this.size===0)return"";if(m(this,Gt)!=null)return m(this,Gt);if(m(this,pe)!=null){let f=/\bcharset=([\w-]+)\b/.exec(m(this,be))?.[1];if(f)try{return String(new Md(m(this,pe),f))}catch{}return String(new Md(m(this,pe),z_.UTF_8))}else throw new TypeError("Unsupported body type")}},s=mi;Ce=new WeakMap,pe=new WeakMap,Gt=new WeakMap,Yt=new WeakMap,be=new WeakMap,o(s);function l(p){return p instanceof s?p:new s(p)}function u(p,f){if(f instanceof d)f=f.entries();else if(Array.isArray(f))f=f;else if(typeof f=="object"&&f!==null)f=f[Symbol.iterator]?.()??Object.entries(f);else throw new TypeError("Failed to construct 'Headers': The provided value has incorrect type");for(let[_,E]of f)p.append(_,E)}class d{constructor(f={}){Q(this,dt);Q(this,ie,new Map);Q(this,Fe,!1);Q(this,ft,"");u(this,f)}append(f,_){f=String(f),_=String(_),r(f),n(f,_);let E=f.toLowerCase(),L=i(String(_)),F=m(this,ie).get(E);F===void 0&&(F=[],m(this,ie).set(E,F),N(this,Fe,m(this,Fe)||E<m(this,ft)),N(this,ft,E)),F.push(L)}get(f){f=String(f),r(f);let _=f.toLowerCase(),E=m(this,ie).get(_);return E===void 0?null:E.join(", ")}has(f){f=String(f),r(f);let _=f.toLowerCase();return m(this,ie).has(_)}delete(f){f=String(f),r(f);let _=f.toLowerCase();m(this,ie).delete(_)}set(f,_){f=String(f),_=String(_),r(f),n(f,_);let E=f.toLowerCase(),L=i(_);m(this,ie).has(E)||(N(this,Fe,m(this,Fe)||E<m(this,ft)),N(this,ft,E)),m(this,ie).set(E,[L])}getSetCookie(){let f=m(this,ie).get("set-cookie");return f?[...f]:[]}forEach(f,_=void 0){for(let[E,L]of we(this,dt,_i).call(this))for(let F of L)Reflect.apply(f,_,[F,E,this])}*entries(){for(let[f,_]of we(this,dt,_i).call(this))for(let E of _)yield[f,E]}*keys(){for(let[f,_]of we(this,dt,_i).call(this))for(let E of _)yield f}*values(){for(let[f,_]of we(this,dt,_i).call(this))for(let E of _)yield E}}ie=new WeakMap,Fe=new WeakMap,ft=new WeakMap,dt=new WeakSet,_i=function(){return m(this,Fe)&&(N(this,ie,new Map([...m(this,ie).entries()].sort(([f],[_])=>f<_?-1:f==_?0:1))),N(this,Fe,!1)),m(this,ie).entries()},Object.defineProperty(d.prototype,Symbol.iterator,{value:d.prototype.entries,configurable:!0,writable:!0,enumerable:!1}),o(d);function c(p){if(p=String(p),/^(?:DELETE|GET|HEAD|OPTIONS|POST|PUT)$/.test(p))return p;if(/^(?:DELETE|GET|HEAD|OPTIONS|POST|PUT)$/i.test(p))return p.toUpperCase();if(/^(?:CONNECT|TRACE|TRACK)$/i.test(p))throw new TypeError(`Forbidden method name: ${p}`);return p}function w(p,f,_,E){let L=p.referrer;L==null?L=E?.referrer??"client":(L=String(L),L==""?L="no-referrer":t(L));let F=String(p.referrerPolicy??E?.referrerPolicy??""),Ke=String(p.redirect??E?.redirect??"follow"),Ne=c(p.method??E?.method??"GET"),ye=new d(p.headers??E?.headers),ge=p.body??E?.body??null;if(ge!==null&&(Ne=="GET"||Ne=="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body");let bt=(p.follow??20)|0;return{method:Ne,body:ge,referrer:L,redirect:Ke,headers:ye,uri:f,url:_,redirectCount:0,follow:bt,referrerPolicy:F,mode:"no-cors",credentials:"same-origin",cache:"default"}}function b(p){if(typeof p!="string"&&typeof p!="object"&&typeof init!="undefined")throw new TypeError("Excepted body to be one of: Null, Undefined, String, Object.")}function C(p){if(typeof p!="object"&&typeof p!="undefined")throw new TypeError("Excepted init to be one of: Null, Undefined, Object.")}function y(p){if(p=p|0,p===0)return p;if(p<200||p>599)throw new RangeError('init["status"] must be in the range of 200 to 599, inclusive.');return p}let v,Si=class{constructor(f,_={}){Q(this,Qt);Q(this,Y,void 0);Q(this,ct,!1);let E,L,F;typeof f=="object"&&La(Y,f)?(E=m(f,Y).url,L=m(f,Y).uri,F=m(f,Y),C(_)):(E=String(f),C(_),L=t(E)),N(this,Y,w(_,L,E,F))}get url(){return m(this,Y).url}get method(){return m(this,Y).method}get referrer(){let f=m(this,Y).referrer;return f=="no-referrer"?"":f=="client"?"about:client":f}get referrerPolicy(){return m(this,Y).referrerPolicy}get redirect(){return m(this,Y).redirect}get headers(){return m(this,Y).headers}get body(){return m(this,Y).body}get bodyUsed(){return m(this,ct)}get uri(){return m(this,Y).uri}clone(){if(m(this,ct))throw new TypeError("Body has already been consumed");return new Si(this)}async text(){let f=we(this,Qt,Ba).call(this);return await l(f).text()}async json(){return JSON.parse(await this.text())}async arrayBuffer(){let f=we(this,Qt,Ba).call(this);return await l(f).arrayBuffer()}async blob(){let f=we(this,Qt,Ba).call(this);return l(f)}},S=Si;Y=new WeakMap,ct=new WeakMap,Qt=new WeakSet,Ba=function(){if(m(this,ct))throw new TypeError("Body already used");return N(this,ct,!0),m(this,Y).body},(()=>{v=f=>m(f,Y)})(),o(S);function P(p){return{type:String(p.type??"default"),status:y(p.status??200),statusText:String(p.statusText??""),url:String(p.url??""),headers:new d(p.headers),redirectCount:(p.redirectCount??0)|0}}let Jt=class{constructor(f=null,_={}){Q(this,Kt);Q(this,le,void 0);Q(this,ht,void 0);Q(this,pt,!1);b(f),C(_),N(this,ht,f),N(this,le,P(_))}static error(){return new Jt(null,{type:"error",status:0,statusText:""})}static json(f,_={}){f=JSON.stringify(f);let E=new d({"Content-Type":"application/json"});return _.headers!=null&&u(E,_.headers),new Jt(f,{..._,headers:E})}static redirect(f,_){if(f=String(f),_=_|0,t(f),!qa(_))throw new RangeError(`Invalid status code ${_}`);return new Jt(null,{status:_,statusText:Wa(_),headers:{Location:f}})}get url(){return m(this,le).url}get type(){return m(this,le).type}get status(){return m(this,le).status}get statusText(){return m(this,le).statusText}get ok(){let f=m(this,le).status;return 200<=f&&f<=206}get headers(){return m(this,le).headers}get redirected(){return m(this,le).redirectCount>0}get body(){return m(this,ht)}get bodyUsed(){return m(this,pt)}clone(){if(m(this,pt))throw new TypeError("Body has already been consumed");let f=new Jt(m(this,ht));return N(f,le,P(m(this,le))),f}async text(){let f=we(this,Kt,xa).call(this);return await l(f).text()}async json(){return JSON.parse(await this.text())}async arrayBuffer(){let f=we(this,Kt,xa).call(this);return await l(f).arrayBuffer()}async blob(){let f=we(this,Kt,xa).call(this);return l(f)}},x=Jt;le=new WeakMap,ht=new WeakMap,pt=new WeakMap,Kt=new WeakSet,xa=function(){if(m(this,pt))throw new TypeError("Body already used");return N(this,pt,!0),m(this,ht)},o(x);function R(p,f){let _=new TypeError(p);return f&&(_.code=f),_}let g=["authorization","www-authenticate","cookie","cookie2"],A=["content-length","content-type","content-location","content-language","content-encoding"],I=["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"],H=301,U=302,V=303;async function ue(p,f={}){let _=new S(p,f),L=v(_).uri.getScheme();switch(L){case"http":case"https":return await Oa(_);case"data":return await Qe(_);default:throw new TypeError("fetch cannot load "+_.url+". Scheme not supported: "+L)}}async function Qe(p){let f=v(p),_=f.uri;if(f.uri.getScheme()!=="data")return null;_.getFragment()!=null&&(_=new va(_.getScheme(),_.getSchemeSpecificPart(),null));let E=_.toString();E=E.substring(5);let L=E.indexOf(","),F=E.substring(0,L);F=F.trim();let Ke=E.substring(L+1),Ne,ye=/;\u0020*base64$/i.exec(F);if(ye!=null){let bt=$_.getDecoder().decode(Ke.trim());Ne=new s(new a(bt)),F=F.slice(0,-ye[0].length)}else Ne=decodeURI(Ke);return F.startsWith(";")&&(F="text/plain"+F),F===""&&(F="text/plain;charset=US-ASCII"),new x(Ne,{status:200,statusText:"OK",url:p.url,headers:{"Content-Type":F}})}function se(p){return p instanceof ArrayBuffer?!0:!!ArrayBuffer.isView(p)}function Cr(p){if(p instanceof ArrayBuffer)return new Int8Array(p);if(ArrayBuffer.isView(p))return p instanceof Int8Array?p:new Int8Array(p.buffer.slice(p.byteOffset,p.byteOffset+p.byteLength));throw new TypeError}async function Oa(p){let f=v(p),_=F_.newBuilder().followRedirects(N_.NEVER).build(),E=D_.newBuilder(p.uri),L,F=p.body;F==null?L=Ia.noBody():se(F)?L=Ia.ofByteArray(Cr(F)):(L=Ia.ofString(String(F)),E.setHeader("Content-Type","text/plain;charset=UTF-8")),E.method(p.method,L),E.setHeader("Accept","*/*"),E.setHeader("Accept-Encoding",""),E.setHeader("User-Agent",`${navigator.userAgent}/graaljs-fetch/Node.js`),f.referrer!=="client"&&E.setHeader("Referer",f.referrer);let Ke;for(let[X,yt]of p.headers.entries())X!==Ke?E.setHeader(X,yt):E.header(X,yt),Ke=X;let Ne=E.build(),ye;try{ye=_.send(Ne,M_.ofByteArray())}catch(X){throw X instanceof j_?new R("Connection refused","ECONNREFUSED"):new TypeError(X.message)}let ge=ye.statusCode();if(qa(ge))switch(p.redirect){case"manual":break;case"error":throw new R("uri requested responds with a redirect, redirect mode is set to error","no-redirect");case"follow":{let X=null,yt=ye.headers().firstValue("Location");try{if(yt.isPresent()){let Je=new va(f.url),Hd=yt.get();X=Je.resolve(Hd)}}catch{throw new R("invalid url in location header","unsupported-redirect")}if(X==null)break;if(f.redirectCount>=Math.min(20,f.follow))throw new R("maximum redirect reached at: "+p.url,"max-redirect");if(f.redirectCount++,(!Ud(X,f.uri)||!$d(X,f.uri))&&g.forEach(Je=>{p.headers.delete(Je)}),ge!==V&&f.body!=null)throw new R("Cannot follow redirect with body","unsupported-redirect");(ge===V||(ge===H||ge===U)&&p.method==="POST")&&(f.method="GET",f.body=null,A.forEach(Je=>{p.headers.delete(Je)})),f.uri=X,f.url=X.toString();let nn=ye.headers().allValues("referrer-policy");return nn.length>0&&nn.forEach(Je=>{I.includes(Je)&&(f.referrerPolicy=Je)}),await Oa(p)}default:throw new R(`Redirect option ${p.redirect} is not a valid value of RequestRedirect`)}let bt=new d;for(let[X,yt]of new Map(ye.headers().map()))for(let nn of yt)bt.append(X,nn);let zd=new s(new a(ye.body()),{type:bt.get("content-type")});return new x(zd,{status:ge,headers:bt,url:p.url,statusText:Wa(ge),redirectCount:f.redirectCount})}function Ud(p,f){return p.getHost()===f.getHost()||f.getHost().endsWith("."+p.getHost())}function $d(p,f){return p.getScheme()===f.getScheme()}function qa(p){switch(p){case 301:case 302:case 303:case 307:case 308:return!0;default:return!1}}function Wa(p){switch(p){case 200:return"OK";case 201:return"Created";case 202:return"Accepted";case 203:return"Non-Authoritative Information";case 204:return"No Content";case 205:return"Reset Content";case 206:return"Partial Content";case 300:return"Multiple Choices";case 301:return"Moved Permanently";case 302:return"Found";case 303:return"See Other";case 304:return"Not Modified";case 305:return"Use Proxy";case 306:return"Switch Proxy";case 307:return"Temporary Redirect";case 308:return"Permanent Redirect";case 400:return"Bad Request";case 401:return"Unauthorized";case 402:return"Payment Required";case 403:return"Forbidden";case 404:return"Not Found";case 405:return"Method Not Allowed";case 406:return"Not Acceptable";case 407:return"Proxy Authentication Required";case 408:return"Request Timeout";case 409:return"Conflict";case 410:return"Gone";case 411:return"Length Required";case 412:return"Precondition Failed";case 413:return"Payload Too Large";case 414:return"URI Too Long";case 415:return"Unsupported Media Type";case 416:return"Range Not Satisfiable";case 417:return"Expectation Failed";case 418:return"I'm a teapot";case 500:return"Internal Server Error";case 501:return"Not Implemented";case 502:return"Bad Gateway";case 503:return"Service Unavailable";case 504:return"Gateway Timeout";case 505:return"HTTP Version Not Supported";default:return""}}Object.entries({fetch:ue}).forEach(p=>{let[f,_]=p;Object.defineProperty(globalThis,f,{value:_,configurable:!0,writable:!0,enumerable:!1})})})();})();
