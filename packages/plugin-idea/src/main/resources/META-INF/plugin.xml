<!--
  ~ Copyright (c) 2024-2025 Elide Technologies, Inc.
  ~
  ~ Licensed under the MIT license (the "License"); you may not use this file except in compliance
  ~ with the License. You may obtain a copy of the License at
  ~
  ~   https://opensource.org/license/mit/
  ~
  ~ Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on
  ~ an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
  ~ License for the specific language governing permissions and limitations under the License.
  -->

<idea-plugin>
  <id>dev.elide.intellij</id>
  <name>Elide</name>
  <vendor url="https://elide.dev">Elide Technologies Inc.</vendor>

  <description><![CDATA[
        Elide build system support for Intellij IDEA.<br>
    ]]></description>

  <depends>com.intellij.modules.platform</depends>
  <depends>com.intellij.modules.externalSystem</depends>
  <depends>com.intellij.modules.idea</depends>

  <resource-bundle>i18n.Strings</resource-bundle>

  <extensionPoints>
    <extensionPoint name="projectModelContributor"
                    interface="dev.elide.intellij.project.model.ElideProjectModelContributor"
                    dynamic="true"/>
  </extensionPoints>

  <extensions defaultExtensionNs="dev.elide.intellij">
    <projectModelContributor implementation="dev.elide.intellij.project.model.ElideDependenciesContributor"/>
    <projectModelContributor implementation="dev.elide.intellij.project.model.ElideJdkContributor"/>
  </extensions>

  <extensions defaultExtensionNs="com.intellij">
    <configurationType implementation="dev.elide.intellij.execution.ElideExternalTaskConfigurationType"/>
    <runConfigurationProducer implementation="dev.elide.intellij.execution.ElideRuntimeConfigurationProducer"/>
    <runAnything.executionProvider implementation="dev.elide.intellij.action.ElideRunAnythingProvider"/>
    <executionTargetLanguageRuntimeType implementation="dev.elide.intellij.execution.ElideRuntimeType"/>
    <runConfigurationProducer implementation="dev.elide.intellij.execution.ElideLazyRunConfigurationProducer"/>

    <externalSystemUnlinkedProjectAware implementation="dev.elide.intellij.project.ElideUnlinkedProjectAware"/>
    <externalIconProvider key="ELIDE" implementationClass="dev.elide.intellij.ui.ElideIconProvider"/>
    <postStartupActivity implementation="dev.elide.intellij.startup.ElideStartupActivity"/>
    <externalSystemManager id="ELIDE" implementation="dev.elide.intellij.ElideManager"/>
    <projectConfigurable
            key="elide"
            id="reference.settingsdialog.project.elide"
            groupId="build.tools"
            instance="dev.elide.intellij.settings.ElideConfigurable"/>
    <externalSystem.runConfigurationEx implementation="dev.elide.intellij.execution.ElideRunConfigurationExtension"/>
  </extensions>

  <actions>
    <action id="Elide.Run" class="dev.elide.intellij.action.ElideRunAction" icon="AllIcons.Actions.RunAnything"/>
  </actions>
</idea-plugin>
