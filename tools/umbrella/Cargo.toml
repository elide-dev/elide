[package]
name = "umbrella"
version = "0.1.0"
edition = '2021'
workspace = "../.."
publish = false

[lib]
name = "umbrella"
crate-type = ["lib", "staticlib", "cdylib"]

[features]
default = ["jni/default", "jni/invocation", "ruff", "ruff_linter"]
jvm = []
python = ["ruff", "uv"]
ruby = []
wasm = []
js = ["oxc"]

[lints.rust]
unsafe_code = "warn"

[dependencies]
lazy_static = "1.4.0"
deno_npm = "0.17.0"
jni = "0.21.1"
protobuf = "3.4.0"
pubgrub = "0.2.1"
oxc = { path = "../../third_party/oxc-project/oxc/crates/oxc", optional = true }
ruff = { path = "../../third_party/astral/ruff/crates/ruff", optional = true }
ruff_linter = { path = "../../third_party/astral/ruff/crates/ruff_linter", optional = true }
ruff_formatter = { path = "../../third_party/astral/ruff/crates/ruff_formatter", optional = true }
ruff_diagnostics = { path = "../../third_party/astral/ruff/crates/ruff_diagnostics", optional = true }
uv = { path = "../../third_party/astral/uv/crates/uv", optional = true }
serde = { version = "1.0.203", features = ["derive"] }
